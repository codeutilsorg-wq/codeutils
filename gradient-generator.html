<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Gradient Generator - Code Utils</title>
    <meta name="description" content="Free CSS gradient generator. Create linear and radial gradients visually. Get CSS code instantly.">
    <meta name="keywords" content="gradient generator, css gradient, linear gradient, radial gradient, color gradient">
    <link rel="canonical" href="https://codeutils.org/gradient-generator">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/gradient-generator">
    <meta property="og:title" content="CSS Gradient Generator - Code Utils">
    <meta property="og:description" content="Create beautiful CSS gradients visually.">
    <meta property="og:image" content="https://codeutils.org/images/og/gradient-generator.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="CSS Gradient Generator - Free online gradient tool">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="CSS Gradient Generator - Code Utils">
    <meta name="twitter:description" content="Create linear and radial gradients visually. Get CSS code instantly.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/gradient-generator.png">

        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    
    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "CSS Gradient Generator - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free CSS gradient generator. Create linear and radial gradients visually. Get CSS code instantly.",
      "url": "https://codeutils.org/gradient-generator",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>
    <!-- Structured Data: FAQ Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What CSS gradient types does this tool support?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tool generates linear-gradient() (directional), radial-gradient() (circular/elliptical), and conic-gradient() (sweep around a center point) CSS gradients. All are supported in modern browsers including Chrome, Firefox, Safari, and Edge."
          }
        },
        {
          "@type": "Question",
          "name": "Can I add more than two colors to my gradient?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. Click anywhere on the gradient bar to add a new color stop at that position. You can add as many stops as you want—each stop can have its own color and position. There is no limit to the number of color stops."
          }
        },
        {
          "@type": "Question",
          "name": "Is my gradient data saved?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The gradient editor state is maintained while you are on the page but is not saved between sessions. To preserve a gradient, copy the CSS and save it in your project. The tool does not send any data to a server."
          }
        },
        {
          "@type": "Question",
          "name": "Do I need to create an account to use this?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. The tool is completely free with no registration or account required. Open the page and start creating gradients immediately."
          }
        }
      ]
    }
    </script>
    <!-- Structured Data: HowTo Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Use CSS Gradient Generator Online",
      "description": "Step-by-step guide to the free online CSS Gradient Generator tool at codeutils.org",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Select a gradient type: Linear, Radial, or Conic",
          "text": "Select a gradient type: Linear, Radial, or Conic"
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "For linear gradients, choose a direction preset or enter ...",
          "text": "For linear gradients, choose a direction preset or enter a custom angle"
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Click a color stop marker on the gradient bar to select i...",
          "text": "Click a color stop marker on the gradient bar to select it, then use the color picker to set its color"
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Click anywhere on the gradient bar to add a new color sto...",
          "text": "Click anywhere on the gradient bar to add a new color stop at that position"
        },
        {
          "@type": "HowToStep",
          "position": 5,
          "name": "Drag stops left or right to reposition them",
          "text": "Drag stops left or right to reposition them"
        }
      ]
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
    <style>
        .gradient-preview {
            width: 100%;
            height: 200px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            margin-bottom: var(--spacing-md);
            position: relative;
        }
        .section-box {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
        .section-header {
            margin: 0 0 var(--spacing-sm);
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .gradient-bar-container {
            position: relative;
            width: 100%;
            height: 50px;
        }
        .gradient-bar {
            width: 100%;
            height: 32px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            cursor: crosshair;
        }
        .gradient-bar-hint {
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-align: center;
            margin-top: 4px;
        }
        .stop-markers {
            position: relative;
            height: 24px;
            margin-top: -6px;
        }
        .stop-marker {
            position: absolute;
            width: 18px;
            height: 18px;
            border: 2px solid #fff;
            border-radius: 50%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.3), inset 0 0 0 1px rgba(0,0,0,0.2);
            transform: translateX(-50%);
            cursor: grab;
            z-index: 10;
            transition: transform 0.1s;
        }
        .stop-marker:hover {
            transform: translateX(-50%) scale(1.15);
        }
        .stop-marker.active {
            box-shadow: 0 0 0 3px var(--primary), 0 1px 3px rgba(0,0,0,0.3);
            transform: translateX(-50%) scale(1.15);
        }
        .stop-marker::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: #fff;
        }
        .color-editor-layout {
            display: grid;
            grid-template-columns: 1fr 140px;
            gap: var(--spacing-md);
        }
        .color-picker-visual {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }
        .color-area-wrapper {
            position: relative;
            width: 100%;
            height: 140px;
            border-radius: var(--radius);
            overflow: hidden;
            cursor: crosshair;
            border: 1px solid var(--border);
        }
        .color-area {
            position: absolute;
            inset: 0;
        }
        .color-area-white {
            position: absolute;
            inset: 0;
            background: linear-gradient(to right, #fff, transparent);
        }
        .color-area-black {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, #000, transparent);
        }
        .color-cursor {
            position: absolute;
            width: 14px;
            height: 14px;
            border: 2px solid #fff;
            border-radius: 50%;
            box-shadow: 0 0 0 1px #000, inset 0 0 0 1px #000;
            transform: translate(-50%, -50%);
            pointer-events: none;
        }
        .hue-slider-wrapper {
            position: relative;
            width: 100%;
            height: 18px;
            border-radius: var(--radius);
            overflow: hidden;
            cursor: pointer;
            border: 1px solid var(--border);
        }
        .hue-slider {
            width: 100%;
            height: 100%;
            background: linear-gradient(to right,
                hsl(0, 100%, 50%), hsl(60, 100%, 50%), hsl(120, 100%, 50%),
                hsl(180, 100%, 50%), hsl(240, 100%, 50%), hsl(300, 100%, 50%), hsl(360, 100%, 50%));
        }
        .hue-cursor {
            position: absolute;
            top: 0;
            width: 6px;
            height: 100%;
            background: #fff;
            border: 1px solid #000;
            transform: translateX(-50%);
            pointer-events: none;
        }
        .color-preview-panel {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-sm);
        }
        .color-preview-box {
            height: 60px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }
        .color-inputs {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-xs);
        }
        .color-input-row {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        .color-input-row label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            width: 28px;
        }
        .hex-input {
            flex: 1;
            padding: 6px 8px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        .position-input {
            width: 50px;
            padding: 6px 8px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: var(--font-mono);
            font-size: 0.8rem;
            text-align: center;
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        .native-picker-wrapper {
            margin-top: auto;
        }
        .native-picker-wrapper label {
            display: block;
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-bottom: 4px;
        }
        .native-picker {
            width: 100%;
            height: 32px;
            cursor: pointer;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 0;
        }
        .delete-stop-btn {
            width: 100%;
            margin-top: var(--spacing-xs);
        }
        .options-row {
            display: flex;
            gap: var(--spacing-md);
            flex-wrap: wrap;
            margin-bottom: var(--spacing-md);
        }
        .option-group {
            background: var(--bg-secondary);
            padding: var(--spacing-md);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            flex: 1;
            min-width: 150px;
        }
        .option-group label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: bold;
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .option-group select {
            width: 100%;
            padding: var(--spacing-sm);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        .direction-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 4px;
        }
        .direction-btn {
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: var(--bg-primary);
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.15s;
        }
        .direction-btn:hover {
            background: var(--primary-light);
        }
        .direction-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .presets-section {
            margin-bottom: var(--spacing-md);
        }
        .presets-section h4 {
            margin: 0 0 var(--spacing-sm);
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .presets {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-xs);
        }
        .preset {
            width: 50px;
            height: 30px;
            border-radius: var(--radius-sm);
            border: 2px solid var(--border);
            cursor: pointer;
            transition: transform 0.1s, border-color 0.1s;
        }
        .preset:hover {
            transform: scale(1.1);
            border-color: var(--primary);
        }
        .controls {
            display: flex;
            gap: var(--spacing-sm);
            flex-wrap: wrap;
            margin-bottom: var(--spacing-md);
        }
        .css-output {
            background: var(--bg-secondary);
            padding: var(--spacing-md);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            word-break: break-all;
            position: relative;
        }
        .css-output code {
            display: block;
            white-space: pre-wrap;
        }
        .copy-overlay {
            position: absolute;
            top: var(--spacing-sm);
            right: var(--spacing-sm);
        }
        @media (max-width: 600px) {
            .color-editor-layout {
                grid-template-columns: 1fr;
            }
            .color-area-wrapper {
                height: 120px;
            }
            .color-preview-panel {
                flex-direction: row;
                align-items: stretch;
            }
            .color-preview-box {
                flex: 1;
                height: 60px;
            }
            .color-inputs {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">CSS Gradient Generator</h2>
            <p style="margin: 0; color: var(--text-secondary);">Click on the gradient bar to add colors. Drag markers to adjust positions.</p>
        </div>

        <div class="gradient-preview" id="gradientPreview"></div>

        <div class="section-box">
            <h3 class="section-header">Color Stops - Click to add, drag to move</h3>
            <div class="gradient-bar-container">
                <div class="gradient-bar" id="gradientBar" onclick="addStopAtClick(event)"></div>
                <div class="stop-markers" id="stopMarkers"></div>
            </div>
        </div>

        <div class="section-box" id="colorEditor">
            <h3 class="section-header">Edit Selected Color</h3>
            <div class="color-editor-layout">
                <div class="color-picker-visual">
                    <div class="color-area-wrapper" id="colorArea">
                        <div class="color-area" id="colorAreaBg"></div>
                        <div class="color-area-white"></div>
                        <div class="color-area-black"></div>
                        <div class="color-cursor" id="colorCursor"></div>
                    </div>
                    <div class="hue-slider-wrapper" id="hueSlider">
                        <div class="hue-slider"></div>
                        <div class="hue-cursor" id="hueCursor"></div>
                    </div>
                </div>
                <div class="color-preview-panel">
                    <div class="color-preview-box" id="stopPreview"></div>
                    <div class="color-inputs">
                        <div class="color-input-row">
                            <label>HEX</label>
                            <input type="text" id="stopHex" class="hex-input" placeholder="#000000" onchange="updateFromHex()">
                        </div>
                        <div class="color-input-row">
                            <label>Pos</label>
                            <input type="number" id="stopPosition" class="position-input" min="0" max="100" value="0" onchange="updatePositionFromInput()">
                            <span style="font-size: 0.8rem; color: var(--text-secondary);">%</span>
                        </div>
                    </div>
                    <div class="native-picker-wrapper">
                        <label>System Picker</label>
                        <input type="color" id="stopColor" class="native-picker" onchange="updateFromNativePicker()">
                    </div>
                    <button class="btn btn-outline btn-sm delete-stop-btn" onclick="deleteSelectedStop()">Delete Stop</button>
                </div>
            </div>
        </div>

        <div class="options-row">
            <div class="option-group">
                <label>Type</label>
                <select id="gradientType" onchange="updateGradient()">
                    <option value="linear">Linear</option>
                    <option value="radial">Radial</option>
                    <option value="conic">Conic</option>
                </select>
            </div>
            <div class="option-group" id="directionGroup">
                <label>Direction</label>
                <div class="direction-buttons">
                    <button class="direction-btn" data-dir="0deg" onclick="setDirection('0deg')">↑</button>
                    <button class="direction-btn" data-dir="45deg" onclick="setDirection('45deg')">↗</button>
                    <button class="direction-btn active" data-dir="90deg" onclick="setDirection('90deg')">→</button>
                    <button class="direction-btn" data-dir="135deg" onclick="setDirection('135deg')">↘</button>
                    <button class="direction-btn" data-dir="180deg" onclick="setDirection('180deg')">↓</button>
                    <button class="direction-btn" data-dir="225deg" onclick="setDirection('225deg')">↙</button>
                    <button class="direction-btn" data-dir="270deg" onclick="setDirection('270deg')">←</button>
                    <button class="direction-btn" data-dir="315deg" onclick="setDirection('315deg')">↖</button>
                </div>
            </div>
        </div>

        <div class="presets-section">
            <h4>Presets</h4>
            <div class="presets" id="presets"></div>
        </div>

        <div class="controls">
            <button class="btn" onclick="addColorStop()">+ Add Color</button>
            <button class="btn btn-secondary" onclick="randomGradient()">Random</button>
            <button class="btn btn-secondary" onclick="reverseGradient()">Reverse</button>
            <button class="btn btn-outline" onclick="resetGradient()">Reset</button>
        </div>

        <div class="css-output">
            <div class="copy-overlay">
                <button class="btn btn-sm" onclick="copyCSS()">Copy CSS</button>
            </div>
            <code id="cssOutput"></code>
        </div>

        <div id="message" class="message"></div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="color-picker.html" class="related-tool-card">
                    <span class="related-tool-icon">CP</span>
                    <span class="related-tool-name">Color Picker</span>
                </a>
                <a href="color-converter.html" class="related-tool-card">
                    <span class="related-tool-icon">#C</span>
                    <span class="related-tool-name">Color Converter</span>
                </a>
                <a href="color-palette.html" class="related-tool-card">
                    <span class="related-tool-icon">PL</span>
                    <span class="related-tool-name">Color Palette</span>
                </a>
                <a href="css-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">CSS</span>
                    <span class="related-tool-name">CSS Formatter</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About CSS Gradient Generator</h2>
            <p>CSS gradients are one of the most visually impactful design elements you can add to a website—but writing gradient syntax by hand, especially for complex multi-stop gradients, is error-prone and slow. Our CSS Gradient Generator gives you a visual interface to create linear, radial, and conic gradients with unlimited color stops. Drag stops to any position, pick colors from the visual picker, choose from curated presets, and copy the production-ready CSS with one click. All processing happens in your browser with no server required.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Three Gradient Types:</strong> Create linear (directional), radial (circular), and conic (rotational sweep) gradients</li>
                <li><strong>Unlimited Color Stops:</strong> Add as many color stops as you need—drag them along the gradient bar to position them precisely</li>
                <li><strong>Visual Color Picker:</strong> Interactive HSV picker and hue slider for each stop—no need to know the HEX code in advance</li>
                <li><strong>8 Direction Presets:</strong> Quickly switch linear gradient direction with top, bottom, left, right, and diagonal presets</li>
                <li><strong>Preset Gradients:</strong> Start from a library of curated beautiful gradient presets for instant inspiration</li>
                <li><strong>One-Click CSS Export:</strong> Copy the complete CSS gradient declaration ready to paste into your stylesheet</li>
                <li><strong>Live Preview:</strong> See your gradient update in real time as you adjust colors, positions, and settings</li>
                <li><strong>Privacy First:</strong> 100% client-side processing—your data never leaves your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Method 1: Build from Scratch</strong></p>
            <ol>
                <li>Select a gradient type: Linear, Radial, or Conic</li>
                <li>For linear gradients, choose a direction preset or enter a custom angle</li>
                <li>Click a color stop marker on the gradient bar to select it, then use the color picker to set its color</li>
                <li>Click anywhere on the gradient bar to add a new color stop at that position</li>
                <li>Drag stops left or right to reposition them</li>
                <li>Click "Copy CSS" to copy the gradient declaration to your clipboard</li>
            </ol>

            <p><strong>Method 2: Start from a Preset</strong></p>
            <ol>
                <li>Scroll to the Presets section and click any gradient thumbnail</li>
                <li>The preset loads into the editor with all its color stops and settings</li>
                <li>Customize colors, positions, or direction as needed</li>
                <li>Copy the CSS when you are happy with the result</li>
            </ol>

            <h3>Common Use Cases</h3>

            <p><strong>Hero Section Backgrounds</strong></p>
            <p>Gradient backgrounds are a popular choice for website hero sections and landing pages. Use a subtle two-stop linear gradient to add depth to a solid background, or create a bold multi-color gradient for a more energetic design. The direction presets make it easy to test top-to-bottom, diagonal, and radial configurations quickly—pick the one that looks best with your hero content.</p>

            <p><strong>Button and UI Component Styling</strong></p>
            <p>Linear gradients on buttons give them a polished, three-dimensional appearance compared to flat solid colors. Create a two-stop gradient from a lighter to darker shade of your brand color, copy the CSS, and apply it to your button's background. The same technique works for card headers, nav bars, progress bars, and any other UI element that benefits from visual depth.</p>

            <p><strong>Text Gradient Effects</strong></p>
            <p>CSS gradients combined with background-clip: text create striking gradient text effects. Generate your gradient here, copy the CSS background value, and apply it to headings using: background: [gradient]; -webkit-background-clip: text; -webkit-text-fill-color: transparent. This works in all modern browsers and creates eye-catching typography for titles and branding.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>Keep gradients subtle for backgrounds:</strong> High-contrast multi-color gradients draw attention—use them for accents and CTAs. For full-page backgrounds, use gentle two-stop gradients with similar lightness values so text remains readable</li>
                <li><strong>Use the conic gradient for charts:</strong> Conic gradients are ideal for creating donut charts and pie chart effects with pure CSS—add stops at specific degree positions to represent data segments</li>
                <li><strong>Add a radial gradient for spotlight effects:</strong> A radial gradient from white (or a light brand color) to transparent creates a natural spotlight or glow effect when layered over a solid background</li>
                <li><strong>Check fallbacks for older browsers:</strong> While all modern browsers support CSS gradients, include a solid color fallback in your stylesheet: background: #3498db; background: linear-gradient(...) so older browsers show a sensible color</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: What CSS gradient types does this tool support?</strong></p>
            <p>A: The tool generates linear-gradient() (directional), radial-gradient() (circular/elliptical), and conic-gradient() (sweep around a center point) CSS gradients. All are supported in modern browsers including Chrome, Firefox, Safari, and Edge.</p>

            <p><strong>Q: Can I add more than two colors to my gradient?</strong></p>
            <p>A: Yes. Click anywhere on the gradient bar to add a new color stop at that position. You can add as many stops as you want—each stop can have its own color and position. There is no limit to the number of color stops.</p>

            <p><strong>Q: Is my gradient data saved?</strong></p>
            <p>A: The gradient editor state is maintained while you are on the page but is not saved between sessions. To preserve a gradient, copy the CSS and save it in your project. The tool does not send any data to a server.</p>

            <p><strong>Q: Do I need to create an account to use this?</strong></p>
            <p>A: No. The tool is completely free with no registration or account required. Open the page and start creating gradients immediately.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'gradient-generator',
            name: 'Gradient Generator',
            url: 'gradient-generator.html'
        });

        CodeUtils.Message.init('message');

        // State
        let colorStops = [
            { color: '#667eea', position: 0 },
            { color: '#764ba2', position: 100 }
        ];
        let selectedStopIndex = 0;
        let direction = '90deg';
        let isDragging = false;

        // HSV state for the visual color picker
        let currentHue = 0;
        let currentSaturation = 100;
        let currentBrightness = 100;

        // Visual picker elements
        const colorArea = document.getElementById('colorArea');
        const colorAreaBg = document.getElementById('colorAreaBg');
        const colorCursor = document.getElementById('colorCursor');
        const hueSlider = document.getElementById('hueSlider');
        const hueCursor = document.getElementById('hueCursor');

        // Presets
        const presets = [
            ['#667eea', '#764ba2'],
            ['#f093fb', '#f5576c'],
            ['#4facfe', '#00f2fe'],
            ['#43e97b', '#38f9d7'],
            ['#fa709a', '#fee140'],
            ['#a8edea', '#fed6e3'],
            ['#ff0844', '#ffb199'],
            ['#30cfd0', '#330867'],
            ['#f6d365', '#fda085'],
            ['#a18cd1', '#fbc2eb'],
            ['#ff9a9e', '#fecfef'],
            ['#667db6', '#0082c8', '#0082c8', '#667db6']
        ];

        // Initialize presets
        function initPresets() {
            const container = document.getElementById('presets');
            container.innerHTML = presets.map((colors, i) => {
                const gradient = colors.length === 2
                    ? `linear-gradient(90deg, ${colors[0]} 0%, ${colors[1]} 100%)`
                    : `linear-gradient(90deg, ${colors.map((c, j) => `${c} ${(j / (colors.length - 1)) * 100}%`).join(', ')})`;
                return `<div class="preset" style="background: ${gradient};" onclick="applyPreset(${i})"></div>`;
            }).join('');
        }

        function applyPreset(index) {
            const colors = presets[index];
            colorStops = colors.map((color, i) => ({
                color: color,
                position: Math.round((i / (colors.length - 1)) * 100)
            }));
            selectedStopIndex = 0;
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
        }

        function updateGradient() {
            const type = document.getElementById('gradientType').value;
            const sortedStops = [...colorStops].sort((a, b) => a.position - b.position);
            const stopsStr = sortedStops.map(s => `${s.color} ${s.position}%`).join(', ');

            let gradient;
            if (type === 'linear') {
                gradient = `linear-gradient(${direction}, ${stopsStr})`;
            } else if (type === 'radial') {
                gradient = `radial-gradient(circle, ${stopsStr})`;
            } else {
                gradient = `conic-gradient(from ${direction}, ${stopsStr})`;
            }

            document.getElementById('gradientPreview').style.background = gradient;
            document.getElementById('gradientBar').style.background = `linear-gradient(90deg, ${stopsStr})`;
            document.getElementById('cssOutput').textContent = `background: ${gradient};`;

            // Show/hide direction based on type
            document.getElementById('directionGroup').style.display = type === 'radial' ? 'none' : 'block';
        }

        function renderStopMarkers() {
            const container = document.getElementById('stopMarkers');
            container.innerHTML = colorStops.map((stop, i) => `
                <div class="stop-marker ${i === selectedStopIndex ? 'active' : ''}"
                     style="left: ${stop.position}%; background: ${stop.color};"
                     data-index="${i}"
                     onmousedown="startDrag(event, ${i})"
                     onclick="selectStop(${i})">
                </div>
            `).join('');
        }

        function selectStop(index) {
            selectedStopIndex = index;
            renderStopMarkers();
            updateColorEditor();
        }

        // Color conversion functions
        function hsvToRgb(h, s, v) {
            s /= 100;
            v /= 100;
            const c = v * s;
            const x = c * (1 - Math.abs((h / 60) % 2 - 1));
            const m = v - c;
            let r, g, b;

            if (h < 60) { r = c; g = x; b = 0; }
            else if (h < 120) { r = x; g = c; b = 0; }
            else if (h < 180) { r = 0; g = c; b = x; }
            else if (h < 240) { r = 0; g = x; b = c; }
            else if (h < 300) { r = x; g = 0; b = c; }
            else { r = c; g = 0; b = x; }

            return {
                r: Math.round((r + m) * 255),
                g: Math.round((g + m) * 255),
                b: Math.round((b + m) * 255)
            };
        }

        function rgbToHsv(r, g, b) {
            r /= 255; g /= 255; b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            const d = max - min;
            let h, s, v = max;

            s = max === 0 ? 0 : d / max;

            if (max === min) {
                h = 0;
            } else {
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return { h: h * 360, s: s * 100, v: v * 100 };
        }

        function rgbToHex(r, g, b) {
            return '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('').toUpperCase();
        }

        function hexToRgb(hex) {
            hex = hex.replace('#', '');
            if (hex.length === 3) {
                hex = hex.split('').map(c => c + c).join('');
            }
            return {
                r: parseInt(hex.substr(0, 2), 16),
                g: parseInt(hex.substr(2, 2), 16),
                b: parseInt(hex.substr(4, 2), 16)
            };
        }

        function updateColorEditor() {
            const stop = colorStops[selectedStopIndex];
            const rgb = hexToRgb(stop.color);
            const hsv = rgbToHsv(rgb.r, rgb.g, rgb.b);

            currentHue = hsv.h;
            currentSaturation = hsv.s;
            currentBrightness = hsv.v;

            document.getElementById('stopColor').value = stop.color;
            document.getElementById('stopHex').value = stop.color.toUpperCase();
            document.getElementById('stopPosition').value = stop.position;
            document.getElementById('stopPreview').style.background = stop.color;

            // Update visual picker
            colorAreaBg.style.background = `hsl(${currentHue}, 100%, 50%)`;
            colorCursor.style.left = `${currentSaturation}%`;
            colorCursor.style.top = `${100 - currentBrightness}%`;
            hueCursor.style.left = `${(currentHue / 360) * 100}%`;
        }

        function updateSelectedStopFromPicker() {
            const rgb = hsvToRgb(currentHue, currentSaturation, currentBrightness);
            const hex = rgbToHex(rgb.r, rgb.g, rgb.b);

            colorStops[selectedStopIndex].color = hex;

            document.getElementById('stopColor').value = hex;
            document.getElementById('stopHex').value = hex;
            document.getElementById('stopPreview').style.background = hex;
            colorAreaBg.style.background = `hsl(${currentHue}, 100%, 50%)`;
            colorCursor.style.left = `${currentSaturation}%`;
            colorCursor.style.top = `${100 - currentBrightness}%`;
            hueCursor.style.left = `${(currentHue / 360) * 100}%`;

            updateGradient();
            renderStopMarkers();
        }

        function updateFromNativePicker() {
            const color = document.getElementById('stopColor').value;
            colorStops[selectedStopIndex].color = color;

            const rgb = hexToRgb(color);
            const hsv = rgbToHsv(rgb.r, rgb.g, rgb.b);
            currentHue = hsv.h;
            currentSaturation = hsv.s;
            currentBrightness = hsv.v;

            document.getElementById('stopHex').value = color.toUpperCase();
            document.getElementById('stopPreview').style.background = color;
            colorAreaBg.style.background = `hsl(${currentHue}, 100%, 50%)`;
            colorCursor.style.left = `${currentSaturation}%`;
            colorCursor.style.top = `${100 - currentBrightness}%`;
            hueCursor.style.left = `${(currentHue / 360) * 100}%`;

            updateGradient();
            renderStopMarkers();
        }

        function updatePositionFromInput() {
            let position = parseInt(document.getElementById('stopPosition').value);
            position = Math.max(0, Math.min(100, position || 0));
            colorStops[selectedStopIndex].position = position;
            document.getElementById('stopPosition').value = position;
            updateGradient();
            renderStopMarkers();
        }

        function updateFromHex() {
            let hex = document.getElementById('stopHex').value.trim();
            if (!hex.startsWith('#')) hex = '#' + hex;
            if (!/^#[0-9A-Fa-f]{6}$/.test(hex)) {
                CodeUtils.Message.error('Invalid HEX color');
                return;
            }
            document.getElementById('stopColor').value = hex;
            colorStops[selectedStopIndex].color = hex;

            const rgb = hexToRgb(hex);
            const hsv = rgbToHsv(rgb.r, rgb.g, rgb.b);
            currentHue = hsv.h;
            currentSaturation = hsv.s;
            currentBrightness = hsv.v;

            document.getElementById('stopPreview').style.background = hex;
            colorAreaBg.style.background = `hsl(${currentHue}, 100%, 50%)`;
            colorCursor.style.left = `${currentSaturation}%`;
            colorCursor.style.top = `${100 - currentBrightness}%`;
            hueCursor.style.left = `${(currentHue / 360) * 100}%`;

            updateGradient();
            renderStopMarkers();
        }

        // Visual color picker interactions
        let isDraggingColor = false;
        let isDraggingHue = false;

        function handleColorArea(e) {
            const rect = colorArea.getBoundingClientRect();
            let x = (e.clientX - rect.left) / rect.width;
            let y = (e.clientY - rect.top) / rect.height;

            x = Math.max(0, Math.min(1, x));
            y = Math.max(0, Math.min(1, y));

            currentSaturation = x * 100;
            currentBrightness = (1 - y) * 100;
            updateSelectedStopFromPicker();
        }

        colorArea.addEventListener('mousedown', (e) => {
            isDraggingColor = true;
            handleColorArea(e);
        });

        colorArea.addEventListener('touchstart', (e) => {
            isDraggingColor = true;
            handleColorArea(e.touches[0]);
            e.preventDefault();
        });

        function handleHueSlider(e) {
            const rect = hueSlider.getBoundingClientRect();
            let x = (e.clientX - rect.left) / rect.width;
            x = Math.max(0, Math.min(1, x));
            currentHue = x * 360;
            updateSelectedStopFromPicker();
        }

        hueSlider.addEventListener('mousedown', (e) => {
            isDraggingHue = true;
            handleHueSlider(e);
        });

        hueSlider.addEventListener('touchstart', (e) => {
            isDraggingHue = true;
            handleHueSlider(e.touches[0]);
            e.preventDefault();
        });

        document.addEventListener('mousemove', (e) => {
            if (isDraggingColor) handleColorArea(e);
            if (isDraggingHue) handleHueSlider(e);
        });

        document.addEventListener('mouseup', () => {
            isDraggingColor = false;
            isDraggingHue = false;
        });

        document.addEventListener('touchmove', (e) => {
            if (isDraggingColor) {
                handleColorArea(e.touches[0]);
                e.preventDefault();
            }
            if (isDraggingHue) {
                handleHueSlider(e.touches[0]);
                e.preventDefault();
            }
        });

        document.addEventListener('touchend', () => {
            isDraggingColor = false;
            isDraggingHue = false;
        });

        function addColorStop() {
            const newPosition = 50;
            const newColor = '#888888';
            colorStops.push({ color: newColor, position: newPosition });
            selectedStopIndex = colorStops.length - 1;
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
        }

        function addStopAtClick(event) {
            const rect = event.target.getBoundingClientRect();
            const position = Math.round(((event.clientX - rect.left) / rect.width) * 100);

            // Get color at position by interpolation
            const sortedStops = [...colorStops].sort((a, b) => a.position - b.position);
            let color = '#888888';

            for (let i = 0; i < sortedStops.length - 1; i++) {
                if (position >= sortedStops[i].position && position <= sortedStops[i + 1].position) {
                    const ratio = (position - sortedStops[i].position) / (sortedStops[i + 1].position - sortedStops[i].position);
                    color = interpolateColor(sortedStops[i].color, sortedStops[i + 1].color, ratio);
                    break;
                }
            }

            colorStops.push({ color, position });
            selectedStopIndex = colorStops.length - 1;
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
        }

        function interpolateColor(color1, color2, ratio) {
            const hex = (c) => parseInt(c.slice(1), 16);
            const r1 = (hex(color1) >> 16) & 255;
            const g1 = (hex(color1) >> 8) & 255;
            const b1 = hex(color1) & 255;
            const r2 = (hex(color2) >> 16) & 255;
            const g2 = (hex(color2) >> 8) & 255;
            const b2 = hex(color2) & 255;

            const r = Math.round(r1 + (r2 - r1) * ratio);
            const g = Math.round(g1 + (g2 - g1) * ratio);
            const b = Math.round(b1 + (b2 - b1) * ratio);

            return '#' + [r, g, b].map(x => x.toString(16).padStart(2, '0')).join('');
        }

        function deleteSelectedStop() {
            if (colorStops.length <= 2) {
                CodeUtils.Message.warning('Minimum 2 colors required');
                return;
            }
            colorStops.splice(selectedStopIndex, 1);
            selectedStopIndex = Math.min(selectedStopIndex, colorStops.length - 1);
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
        }

        function setDirection(dir) {
            direction = dir;
            document.querySelectorAll('.direction-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.dir === dir);
            });
            updateGradient();
        }

        function randomGradient() {
            const randomColor = () => '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
            const numStops = 2 + Math.floor(Math.random() * 2);
            colorStops = [];
            for (let i = 0; i < numStops; i++) {
                colorStops.push({
                    color: randomColor(),
                    position: Math.round((i / (numStops - 1)) * 100)
                });
            }
            selectedStopIndex = 0;
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
            CodeUtils.Message.success('Random gradient!');
        }

        function reverseGradient() {
            colorStops = colorStops.map(stop => ({
                color: stop.color,
                position: 100 - stop.position
            }));
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
        }

        function resetGradient() {
            colorStops = [
                { color: '#667eea', position: 0 },
                { color: '#764ba2', position: 100 }
            ];
            selectedStopIndex = 0;
            direction = '90deg';
            setDirection('90deg');
            updateGradient();
            renderStopMarkers();
            updateColorEditor();
        }

        function copyCSS() {
            const css = document.getElementById('cssOutput').textContent;
            CodeUtils.Clipboard.copy(css);
            CodeUtils.Message.success('CSS copied!');
        }

        // Dragging functionality
        function startDrag(event, index) {
            event.preventDefault();
            isDragging = true;
            selectedStopIndex = index;
            renderStopMarkers();
            updateColorEditor();

            const onMove = (e) => {
                if (!isDragging) return;
                const bar = document.getElementById('gradientBar');
                const rect = bar.getBoundingClientRect();
                const clientX = e.touches ? e.touches[0].clientX : e.clientX;
                let position = Math.round(((clientX - rect.left) / rect.width) * 100);
                position = Math.max(0, Math.min(100, position));

                colorStops[selectedStopIndex].position = position;
                document.getElementById('stopPosition').value = position;
                updateGradient();
                renderStopMarkers();
            };

            const onEnd = () => {
                isDragging = false;
                document.removeEventListener('mousemove', onMove);
                document.removeEventListener('mouseup', onEnd);
                document.removeEventListener('touchmove', onMove);
                document.removeEventListener('touchend', onEnd);
            };

            document.addEventListener('mousemove', onMove);
            document.addEventListener('mouseup', onEnd);
            document.addEventListener('touchmove', onMove);
            document.addEventListener('touchend', onEnd);
        }

        // Initialize
        initPresets();
        updateGradient();
        renderStopMarkers();
        updateColorEditor();
    </script>
</body>
</html>
