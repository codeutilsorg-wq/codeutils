<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON to XML Converter | Transform JSON to XML - Code Utils</title>
    <meta name="description" content="Convert JSON data to XML format instantly. Customizable root elements and formatting options. Download or copy results. 100% private client-side processing. Convert now!">
    <meta name="keywords" content="json to xml, convert json xml, json xml converter, json transformer">
    <link rel="canonical" href="https://codeutils.org/json-to-xml">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/json-to-xml">
    <meta property="og:title" content="JSON to XML Converter - Code Utils">
    <meta property="og:description" content="Convert JSON to XML format with customizable options. 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/json-to-xml.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="JSON to XML Converter - Free online tool">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="JSON to XML Converter - Code Utils">
    <meta name="twitter:description" content="Convert JSON to XML instantly. Free tool with 100% private processing.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/json-to-xml.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "JSON to XML Converter - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free JSON to XML converter. Transform JSON data to XML format with customizable root elements. 100% client-side processing.",
      "url": "https://codeutils.org/json-to-xml",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>
    <!-- Structured Data: FAQ Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How are JSON arrays converted to XML?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "JSON arrays become repeated XML elements. For example, {\"items\": [\"a\", \"b\", \"c\"]} becomes <items>a</items><items>b</items><items>c</items>. Arrays of objects produce repeated elements where each element contains the object's properties as child elements."
          }
        },
        {
          "@type": "Question",
          "name": "Can I control the root element name?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The root element name is determined by the top-level key in your JSON object. To set a specific root element name, wrap your JSON in an object with the desired name as the key: {\"myRootElement\": {your data}}."
          }
        },
        {
          "@type": "Question",
          "name": "Is my JSON data private?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. All conversion happens in your browser using JavaScript. Your JSON data is never uploaded to any server or stored anywhere."
          }
        },
        {
          "@type": "Question",
          "name": "Do I need to sign up to use this?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. The tool is completely free with no registration required."
          }
        }
      ]
    }
    </script>
    <!-- Structured Data: HowTo Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Use JSON to XML Converter | Transform JSON to XML Online",
      "description": "Step-by-step guide to using the free online JSON to XML Converter | Transform JSON to XML tool at codeutils.org",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Paste your JSON object into the input area on the left",
          "text": "Paste your JSON object into the input area on the left"
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "The XML output appears automatically on the right",
          "text": "The XML output appears automatically on the right"
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Click \"Copy\" to copy the XML to your clipboard",
          "text": "Click \"Copy\" to copy the XML to your clipboard"
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Click \"Download XML\" to save as a file",
          "text": "Click \"Download XML\" to save as a file"
        }
      ]
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
    <style>
        .options-row {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: var(--spacing-md);
        }
        .options-row label {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        .options-row input[type="text"] {
            padding: var(--spacing-xs) var(--spacing-sm);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
            width: 120px;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">JSON to XML Converter</h2>
            <p style="margin: 0; color: var(--text-secondary);">Convert JSON data to XML format.</p>
        </div>

        <div class="editor-section">
            <div class="editor-header">JSON Input</div>
            <textarea id="jsonInput" class="editor" placeholder='{"person": {"name": "John", "age": 30}}'></textarea>
        </div>

        <div class="options-row">
            <label>
                Root element:
                <input type="text" id="rootElement" value="root" placeholder="root">
            </label>
            <label>
                <input type="checkbox" id="includeDeclaration" checked>
                Include XML declaration
            </label>
            <label>
                <input type="checkbox" id="prettyPrint" checked>
                Pretty print
            </label>
        </div>

        <div class="controls">
            <button class="btn" onclick="convertToXML()">Convert to XML</button>
            <button class="btn btn-secondary" onclick="copyXML()">Copy XML</button>
            <button class="btn btn-secondary" onclick="downloadXML()">Download XML</button>
            <button class="btn btn-outline" onclick="clearAll()">Clear</button>
        </div>

        <div id="message" class="message"></div>

        <div class="editor-section">
            <div class="editor-header">XML Output</div>
            <textarea id="xmlOutput" class="editor" readonly placeholder="XML output will appear here..."></textarea>
        </div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="xml-to-json.html" class="related-tool-card">
                    <span class="related-tool-icon">X>J</span>
                    <span class="related-tool-name">XML to JSON</span>
                </a>
                <a href="json-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">{ }</span>
                    <span class="related-tool-name">JSON Formatter</span>
                </a>
                <a href="xml-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon"></></span>
                    <span class="related-tool-name">XML Formatter</span>
                </a>
                <a href="json-to-yaml.html" class="related-tool-card">
                    <span class="related-tool-icon">J>Y</span>
                    <span class="related-tool-name">JSON to YAML</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About JSON to XML Converter</h2>
            <p>JSON is the dominant format for modern APIs and data exchange, but many enterprise systems, SOAP services, configuration tools, and data processing pipelines require XML. Converting JSON to XML by hand requires translating every key to an element, every array to repeated elements, and every nested object to child elements—a tedious and error-prone process for complex data. Our JSON to XML Converter handles this mapping automatically, producing valid, well-formed XML from any JSON input. All processing happens in your browser with no data sent to any server.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Instant Conversion:</strong> Paste JSON and get properly formatted XML output immediately</li>
                <li><strong>Attribute Support:</strong> JSON keys starting with @ are converted to XML attributes rather than child elements</li>
                <li><strong>Array Handling:</strong> JSON arrays become repeated XML elements with the parent key as the element name</li>
                <li><strong>Pretty-Printed Output:</strong> XML output is indented and formatted for easy reading and validation</li>
                <li><strong>File Upload:</strong> Upload .json files directly for conversion</li>
                <li><strong>Download as XML:</strong> Save the output as a .xml file with one click</li>
                <li><strong>Privacy First:</strong> 100% client-side processing—your data never leaves your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Method 1: Paste JSON</strong></p>
            <ol>
                <li>Paste your JSON object into the input area on the left</li>
                <li>The XML output appears automatically on the right</li>
                <li>Click "Copy" to copy the XML to your clipboard</li>
                <li>Click "Download XML" to save as a file</li>
            </ol>

            <p><strong>Method 2: Upload a JSON File</strong></p>
            <ol>
                <li>Click "Upload" or drag and drop a .json file</li>
                <li>The file converts automatically</li>
                <li>Download or copy the XML output</li>
            </ol>

            <h3>Conversion Rules</h3>
            <ul>
                <li>JSON object keys become XML element names</li>
                <li>JSON arrays create repeated elements using the parent key as the element name</li>
                <li>Primitive values (strings, numbers, booleans) become XML text content</li>
                <li>JSON keys starting with @ are converted to XML attributes</li>
            </ul>

            <h3>Common Use Cases</h3>

            <p><strong>Integrating with SOAP and Enterprise Services</strong></p>
            <p>Many legacy enterprise systems, banking APIs, and government services use SOAP which requires XML request bodies. When your application works with JSON internally, use this converter to transform your data into the XML format required by the SOAP service. This helps you prototype and test the XML structure before implementing the conversion in your application code.</p>

            <p><strong>Generating XML Configuration Files</strong></p>
            <p>Many tools and frameworks (Spring, Maven, ant, .NET) use XML configuration files. If you manage configuration as JSON in your workflow (from a CMS, API, or database), convert it to XML here to create the configuration files required by these tools. This is useful for generating test configuration files or understanding the required XML structure.</p>

            <p><strong>Data Export for XML-Based Systems</strong></p>
            <p>Data warehouses, BI tools, and some CRM systems accept XML as an import format. When exporting data from a JSON API for import into these systems, convert the JSON to XML here to prepare the import file. Verify the XML structure matches the target system's schema before importing.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>XML element names cannot start with numbers:</strong> If your JSON has numeric keys (like "1", "2"), prefix them with a letter before converting—XML element names must start with a letter or underscore</li>
                <li><strong>Use @ prefix for attributes:</strong> To convert a JSON property to an XML attribute rather than a child element, prefix the key with @—for example "@id" becomes id="value" in the XML output</li>
                <li><strong>Validate the output:</strong> Paste the generated XML into an XML validator to confirm it is well-formed before using it in production systems</li>
                <li><strong>Add XML declaration if needed:</strong> Some systems require the &lt;?xml version="1.0" encoding="UTF-8"?&gt; declaration at the top—add it manually to the output if required by your target system</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: How are JSON arrays converted to XML?</strong></p>
            <p>A: JSON arrays become repeated XML elements. For example, {"items": ["a", "b", "c"]} becomes &lt;items&gt;a&lt;/items&gt;&lt;items&gt;b&lt;/items&gt;&lt;items&gt;c&lt;/items&gt;. Arrays of objects produce repeated elements where each element contains the object's properties as child elements.</p>

            <p><strong>Q: Can I control the root element name?</strong></p>
            <p>A: The root element name is determined by the top-level key in your JSON object. To set a specific root element name, wrap your JSON in an object with the desired name as the key: {"myRootElement": {your data}}.</p>

            <p><strong>Q: Is my JSON data private?</strong></p>
            <p>A: Yes. All conversion happens in your browser using JavaScript. Your JSON data is never uploaded to any server or stored anywhere.</p>

            <p><strong>Q: Do I need to sign up to use this?</strong></p>
            <p>A: No. The tool is completely free with no registration required.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'json-to-xml',
            name: 'JSON to XML',
            url: 'json-to-xml.html'
        });

        CodeUtils.Message.init('message');

        function escapeXml(str) {
            return String(str)
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&apos;');
        }

        function jsonToXml(obj, indent = '', prettyPrint = true) {
            let xml = '';
            const newline = prettyPrint ? '\n' : '';
            const nextIndent = prettyPrint ? indent + '  ' : '';

            for (const key in obj) {
                if (key.startsWith('@')) continue; // Skip attributes

                const value = obj[key];
                const tagName = key.replace(/[^a-zA-Z0-9_-]/g, '_');

                if (Array.isArray(value)) {
                    for (const item of value) {
                        if (typeof item === 'object' && item !== null) {
                            xml += indent + '<' + tagName + getAttributes(item) + '>' + newline;
                            xml += jsonToXml(item, nextIndent, prettyPrint);
                            xml += indent + '</' + tagName + '>' + newline;
                        } else {
                            xml += indent + '<' + tagName + '>' + escapeXml(item) + '</' + tagName + '>' + newline;
                        }
                    }
                } else if (typeof value === 'object' && value !== null) {
                    xml += indent + '<' + tagName + getAttributes(value) + '>' + newline;
                    xml += jsonToXml(value, nextIndent, prettyPrint);
                    xml += indent + '</' + tagName + '>' + newline;
                } else if (value !== null && value !== undefined) {
                    xml += indent + '<' + tagName + '>' + escapeXml(value) + '</' + tagName + '>' + newline;
                }
            }

            return xml;
        }

        function getAttributes(obj) {
            let attrs = '';
            for (const key in obj) {
                if (key.startsWith('@')) {
                    attrs += ' ' + key.substring(1) + '="' + escapeXml(obj[key]) + '"';
                }
            }
            return attrs;
        }

        function convertToXML() {
            const jsonInput = document.getElementById('jsonInput').value.trim();
            if (!jsonInput) {
                CodeUtils.Message.error('Please enter JSON data');
                return;
            }

            let data;
            try {
                data = JSON.parse(jsonInput);
            } catch (e) {
                CodeUtils.Message.error('Invalid JSON: ' + e.message);
                return;
            }

            const rootElement = document.getElementById('rootElement').value || 'root';
            const includeDeclaration = document.getElementById('includeDeclaration').checked;
            const prettyPrint = document.getElementById('prettyPrint').checked;

            let xml = '';
            if (includeDeclaration) {
                xml += '<?xml version="1.0" encoding="UTF-8"?>' + (prettyPrint ? '\n' : '');
            }

            // Check if data already has a single root
            const keys = Object.keys(data);
            if (keys.length === 1 && typeof data[keys[0]] === 'object' && !Array.isArray(data[keys[0]])) {
                xml += jsonToXml(data, '', prettyPrint);
            } else {
                xml += '<' + rootElement + '>' + (prettyPrint ? '\n' : '');
                xml += jsonToXml(data, prettyPrint ? '  ' : '', prettyPrint);
                xml += '</' + rootElement + '>';
            }

            document.getElementById('xmlOutput').value = xml.trim();
            CodeUtils.Message.success('Converted to XML!');
        }

        function copyXML() {
            const xml = document.getElementById('xmlOutput').value;
            if (!xml) {
                CodeUtils.Message.error('Nothing to copy');
                return;
            }
            CodeUtils.Clipboard.copy(xml);
            CodeUtils.Message.success('Copied to clipboard!');
        }

        function downloadXML() {
            const xml = document.getElementById('xmlOutput').value;
            if (!xml) {
                CodeUtils.Message.error('Nothing to download');
                return;
            }
            CodeUtils.FileHandler.download(xml, 'data.xml', 'application/xml');
            CodeUtils.Message.success('XML file downloaded!');
        }

        function clearAll() {
            document.getElementById('jsonInput').value = '';
            document.getElementById('xmlOutput').value = '';
        }
    </script>
</body>
</html>
