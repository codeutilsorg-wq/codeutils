<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free XML to JSON Converter | Preserve Attributes & Structure - Code Utils</title>
    <meta name="description" content="Convert XML to JSON instantly while preserving attributes and structure. Fast, accurate transformation with detailed output. 100% free and private. Try now!">
    <meta name="keywords" content="xml to json, convert xml json, xml json converter, xml parser, xml transformer">
    <link rel="canonical" href="https://codeutils.org/xml-to-json">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/xml-to-json">
    <meta property="og:title" content="Free XML to JSON Converter - Code Utils">
    <meta property="og:description" content="Convert XML to JSON format with preserved attributes and structure. Fast transformation with accurate results. 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/xml-to-json.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="XML to JSON Converter - Free XML conversion tool">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="XML to JSON Converter - Code Utils">
    <meta name="twitter:description" content="Convert XML to JSON with preserved attributes. Free tool with accurate transformation.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/xml-to-json.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "XML to JSON Converter - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free XML to JSON converter. Transform XML data to JSON with preserved attributes and structure. 100% client-side processing.",
      "url": "https://codeutils.org/xml-to-json",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>
    <!-- Structured Data: FAQ Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "How are XML attributes handled in the JSON output?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "XML attributes are converted to JSON properties with an @ prefix. For example, <user id=\"123\" role=\"admin\"> becomes {\"user\": {\"@id\": \"123\", \"@role\": \"admin\", ...}}. This convention makes it clear which properties were originally attributes versus child elements."
          }
        },
        {
          "@type": "Question",
          "name": "What happens when an XML element has both attributes and text content?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "When an element has both attributes and text content, the text is placed in a special #text property. For example, <name lang=\"en\">John</name> becomes {\"name\": {\"@lang\": \"en\", \"#text\": \"John\"}}."
          }
        },
        {
          "@type": "Question",
          "name": "Is my XML data private?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes. All conversion happens in your browser using JavaScript. Your XML is never uploaded to any server or stored anywhere."
          }
        },
        {
          "@type": "Question",
          "name": "Do I need to sign up to use this?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "No. The tool is completely free with no registration required."
          }
        }
      ]
    }
    </script>
    <!-- Structured Data: HowTo Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "HowTo",
      "name": "How to Use Free XML to JSON Converter | Preserve Attributes & Structure Online",
      "description": "Step-by-step guide to using the free online Free XML to JSON Converter | Preserve Attributes & Structure tool at codeutils.org",
      "step": [
        {
          "@type": "HowToStep",
          "position": 1,
          "name": "Paste your XML document into the input area on the left",
          "text": "Paste your XML document into the input area on the left"
        },
        {
          "@type": "HowToStep",
          "position": 2,
          "name": "The JSON output appears automatically on the right",
          "text": "The JSON output appears automatically on the right"
        },
        {
          "@type": "HowToStep",
          "position": 3,
          "name": "Click \"Copy\" to copy the JSON to your clipboard",
          "text": "Click \"Copy\" to copy the JSON to your clipboard"
        },
        {
          "@type": "HowToStep",
          "position": 4,
          "name": "Click \"Download JSON\" to save as a file",
          "text": "Click \"Download JSON\" to save as a file"
        }
      ]
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">XML to JSON Converter</h2>
            <p style="margin: 0; color: var(--text-secondary);">Convert XML data to JSON format.</p>
        </div>

        <div class="editor-section">
            <div class="editor-header">XML Input</div>
            <textarea id="xmlInput" class="editor" placeholder='<root>
  <person id="1">
    <name>John</name>
    <age>30</age>
  </person>
</root>'></textarea>
        </div>

        <div class="controls">
            <button class="btn" onclick="convertToJSON()">Convert to JSON</button>
            <button class="btn btn-secondary" onclick="copyJSON()">Copy JSON</button>
            <button class="btn btn-secondary" onclick="downloadJSON()">Download JSON</button>
            <button class="btn btn-outline" onclick="clearAll()">Clear</button>
        </div>

        <div id="message" class="message"></div>

        <div class="editor-section">
            <div class="editor-header">JSON Output</div>
            <textarea id="jsonOutput" class="editor" readonly placeholder="JSON output will appear here..."></textarea>
        </div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="json-to-xml.html" class="related-tool-card">
                    <span class="related-tool-icon">J>X</span>
                    <span class="related-tool-name">JSON to XML</span>
                </a>
                <a href="xml-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon"></></span>
                    <span class="related-tool-name">XML Formatter</span>
                </a>
                <a href="json-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">{ }</span>
                    <span class="related-tool-name">JSON Formatter</span>
                </a>
                <a href="json-to-yaml.html" class="related-tool-card">
                    <span class="related-tool-icon">J>Y</span>
                    <span class="related-tool-name">JSON to YAML</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About XML to JSON Converter</h2>
            <p>XML is still widely used in enterprise systems, SOAP APIs, RSS feeds, configuration files, and data exports—but modern web applications and tools work with JSON. Converting XML to JSON manually requires understanding the mapping rules for elements, attributes, and text content, and then carefully restructuring the data. Our XML to JSON Converter handles this automatically, preserving all elements, attributes, and nested structure in a clean JSON representation. Paste your XML or upload a file and get JSON output instantly, entirely in your browser.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Instant Conversion:</strong> Paste XML and get formatted JSON output immediately</li>
                <li><strong>Attribute Preservation:</strong> XML attributes are converted to JSON properties with @ prefix (e.g., @id, @class)</li>
                <li><strong>Repeated Element Handling:</strong> Multiple sibling elements with the same name become JSON arrays automatically</li>
                <li><strong>Nested Structure Support:</strong> Arbitrarily deep XML nesting converts to equivalent JSON object nesting</li>
                <li><strong>Pretty-Printed Output:</strong> JSON output is formatted with indentation for easy reading</li>
                <li><strong>File Upload:</strong> Upload .xml files directly for conversion</li>
                <li><strong>Download as JSON:</strong> Save the output as a .json file with one click</li>
                <li><strong>Privacy First:</strong> 100% client-side processing—your data never leaves your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Method 1: Paste XML</strong></p>
            <ol>
                <li>Paste your XML document into the input area on the left</li>
                <li>The JSON output appears automatically on the right</li>
                <li>Click "Copy" to copy the JSON to your clipboard</li>
                <li>Click "Download JSON" to save as a file</li>
            </ol>

            <p><strong>Method 2: Upload an XML File</strong></p>
            <ol>
                <li>Click "Upload" or drag and drop a .xml file</li>
                <li>The file converts automatically</li>
                <li>Download or copy the JSON output</li>
            </ol>

            <h3>Conversion Rules</h3>
            <ul>
                <li>XML elements become JSON object keys</li>
                <li>XML attributes are prefixed with @ (e.g., @id becomes "@id")</li>
                <li>Text content uses the #text key when mixed with attributes or child elements</li>
                <li>Repeated sibling elements with the same tag name become JSON arrays</li>
            </ul>

            <h3>Common Use Cases</h3>

            <p><strong>Processing SOAP API and Legacy XML Responses</strong></p>
            <p>Many enterprise systems, payment gateways, and legacy APIs still return XML. When integrating these systems with modern applications that prefer JSON, convert the XML responses here to understand the structure and design your parsing logic. This is especially useful when working with complex SOAP envelope responses where the nesting is several levels deep.</p>

            <p><strong>Converting RSS and Atom Feeds</strong></p>
            <p>RSS and Atom feed parsers receive XML data that needs to be processed and displayed in web applications. Convert feed XML to JSON to inspect the item structure, extract titles, descriptions, links, and publication dates, and understand exactly which keys to use when building your feed reader or content aggregation tool.</p>

            <p><strong>Migrating XML Data to JSON Databases</strong></p>
            <p>When migrating data from XML-based storage (XML files, SQL Server XML columns, Oracle XMLType) to a JSON database like MongoDB or a JSON API, convert each XML document to JSON here to verify the mapping before automating the migration. Understanding how attributes and repeated elements convert helps you design the target JSON schema correctly.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>Attributes use @ prefix:</strong> Remember that XML attributes like id="1" appear in JSON as "@id": "1"—account for this when writing code that reads the converted JSON</li>
                <li><strong>Repeated elements become arrays:</strong> Two &lt;item&gt; elements become an array—but a single &lt;item&gt; element becomes an object. Handle both cases in your code when consuming converted data from sources that may have variable counts</li>
                <li><strong>Strip namespaces before converting:</strong> XML namespaces (xmlns: prefixes) are included in the output—if you do not need them, remove namespace declarations from the XML before converting for cleaner output</li>
                <li><strong>Validate the JSON structure:</strong> After converting, paste the JSON into a JSON formatter to verify the structure matches your expectations before writing parsing code</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: How are XML attributes handled in the JSON output?</strong></p>
            <p>A: XML attributes are converted to JSON properties with an @ prefix. For example, &lt;user id="123" role="admin"&gt; becomes {"user": {"@id": "123", "@role": "admin", ...}}. This convention makes it clear which properties were originally attributes versus child elements.</p>

            <p><strong>Q: What happens when an XML element has both attributes and text content?</strong></p>
            <p>A: When an element has both attributes and text content, the text is placed in a special #text property. For example, &lt;name lang="en"&gt;John&lt;/name&gt; becomes {"name": {"@lang": "en", "#text": "John"}}.</p>

            <p><strong>Q: Is my XML data private?</strong></p>
            <p>A: Yes. All conversion happens in your browser using JavaScript. Your XML is never uploaded to any server or stored anywhere.</p>

            <p><strong>Q: Do I need to sign up to use this?</strong></p>
            <p>A: No. The tool is completely free with no registration required.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'xml-to-json',
            name: 'XML to JSON',
            url: 'xml-to-json.html'
        });

        CodeUtils.Message.init('message');

        function xmlToJson(xml) {
            const obj = {};

            if (xml.nodeType === 1) { // Element
                // Attributes
                if (xml.attributes.length > 0) {
                    for (let i = 0; i < xml.attributes.length; i++) {
                        const attr = xml.attributes.item(i);
                        obj['@' + attr.nodeName] = attr.nodeValue;
                    }
                }
            } else if (xml.nodeType === 3) { // Text
                return xml.nodeValue.trim();
            }

            // Children
            if (xml.hasChildNodes()) {
                for (let i = 0; i < xml.childNodes.length; i++) {
                    const child = xml.childNodes.item(i);
                    const nodeName = child.nodeName;

                    if (child.nodeType === 3) { // Text node
                        const text = child.nodeValue.trim();
                        if (text) {
                            if (Object.keys(obj).length === 0) {
                                return text;
                            }
                            obj['#text'] = text;
                        }
                    } else if (child.nodeType === 1) { // Element node
                        const childObj = xmlToJson(child);

                        if (typeof obj[nodeName] === 'undefined') {
                            obj[nodeName] = childObj;
                        } else {
                            if (!Array.isArray(obj[nodeName])) {
                                obj[nodeName] = [obj[nodeName]];
                            }
                            obj[nodeName].push(childObj);
                        }
                    }
                }
            }

            return obj;
        }

        function convertToJSON() {
            const xmlInput = document.getElementById('xmlInput').value.trim();
            if (!xmlInput) {
                CodeUtils.Message.error('Please enter XML data');
                return;
            }

            try {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xmlInput, 'text/xml');

                // Check for parse errors
                const parseError = xmlDoc.querySelector('parsererror');
                if (parseError) {
                    throw new Error('Invalid XML: ' + parseError.textContent);
                }

                const json = {};
                json[xmlDoc.documentElement.nodeName] = xmlToJson(xmlDoc.documentElement);

                document.getElementById('jsonOutput').value = JSON.stringify(json, null, 2);
                CodeUtils.Message.success('Converted to JSON!');
            } catch (e) {
                CodeUtils.Message.error(e.message);
            }
        }

        function copyJSON() {
            const json = document.getElementById('jsonOutput').value;
            if (!json) {
                CodeUtils.Message.error('Nothing to copy');
                return;
            }
            CodeUtils.Clipboard.copy(json);
            CodeUtils.Message.success('Copied to clipboard!');
        }

        function downloadJSON() {
            const json = document.getElementById('jsonOutput').value;
            if (!json) {
                CodeUtils.Message.error('Nothing to download');
                return;
            }
            CodeUtils.FileHandler.download(json, 'data.json', 'application/json');
            CodeUtils.Message.success('JSON file downloaded!');
        }

        function clearAll() {
            document.getElementById('xmlInput').value = '';
            document.getElementById('jsonOutput').value = '';
        }
    </script>
</body>
</html>
