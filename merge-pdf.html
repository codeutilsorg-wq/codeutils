<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free PDF Merger | Combine Multiple PDFs Online - Code Utils</title>
    <meta name="description"
        content="Merge multiple PDF files into one. Free online PDF merger. Combine PDFs in seconds. 100% private - no uploads required.">
    <link rel="canonical" href="https://codeutils.org/merge-pdf">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/merge-pdf">
    <meta property="og:title" content="Free PDF Merger - Code Utils">
    <meta property="og:description"
        content="Merge multiple PDF files into one instantly. Free online PDF merger with 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/merge-pdf.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Merge PDF - Free online PDF merger tool">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="PDF Merger - Code Utils">
    <meta name="twitter:description"
        content="Combine multiple PDF files into one instantly. Free tool with 100% private client-side processing.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/merge-pdf.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-RPHPBJ4291');
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Merge PDF - Code Utils",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free PDF merger. Combine multiple PDF files into one. 100% client-side processing.",
      "url": "https://codeutils.org/merge-pdf",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>

    <!-- pdf-lib Library -->
    <script defer src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>

    <link rel="stylesheet" href="css/common.css">
</head>

<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <h2>Merge PDF Files</h2>
        <p class="tool-description">Combine multiple PDF files into a single PDF document. Files are merged in the order you select them.</p>

        <div id="message-container"></div>

        <div class="card">
            <div class="form-group">
                <label class="file-label">
                    <input type="file" id="fileInput" accept=".pdf,application/pdf" multiple>
                    <span class="file-label-text">
                        <span class="file-icon">üìÅ</span>
                        <span>Choose PDF Files</span>
                    </span>
                </label>
                <div class="file-info" id="fileInfo">No files selected</div>
            </div>

            <div id="fileList" class="file-list"></div>

            <div class="button-group">
                <button id="mergeBtn" class="btn btn-primary" disabled>Merge PDFs</button>
                <button id="clearBtn" class="btn btn-secondary">Clear</button>
            </div>
        </div>

        <div class="related-tools">
            <h3>Related Tools</h3>
            <ul class="related-tools-list">
                <li><a href="split-pdf.html">Split PDF</a></li>
                <li><a href="compress-pdf.html">Compress PDF</a></li>
                <li><a href="jpg-to-pdf.html">JPG to PDF</a></li>
                <li><a href="pdf-to-png.html">PDF to PNG</a></li>
            </ul>
        </div>

        <div class="info-section">
            <h3>About This Tool</h3>
            <p>Merge multiple PDF files into a single PDF document instantly. This free online PDF merger allows you to
                combine PDFs while maintaining the original quality and formatting.</p>

            <h4>Features</h4>
            <ul>
                <li><strong>Multiple PDFs:</strong> Combine unlimited PDF files</li>
                <li><strong>Preserve Order:</strong> PDFs are merged in the order you select them</li>
                <li><strong>Maintain Quality:</strong> Original PDF quality is preserved</li>
                <li><strong>100% Private:</strong> All processing happens in your browser - no uploads</li>
                <li><strong>Free & Unlimited:</strong> No sign-up, no limits, completely free</li>
            </ul>

            <h4>How to Use</h4>
            <ol>
                <li>Click "Choose PDF Files" and select 2 or more PDF files</li>
                <li>Review the file list and order</li>
                <li>Click "Merge PDFs" to combine them</li>
                <li>The merged PDF will be automatically downloaded</li>
            </ol>

            <h4>Privacy & Security</h4>
            <p>Your PDF files are processed entirely in your browser using JavaScript. Nothing is uploaded to any server.
                Your files never leave your computer, making this tool completely safe for confidential documents.</p>

            <h4>Tips</h4>
            <ul>
                <li>PDFs are combined in the order they appear in the file list</li>
                <li>You can select files in a specific order using Ctrl/Cmd + Click</li>
                <li>For large PDFs (>10MB), processing may take longer</li>
                <li>All pages from all PDFs will be included in the final merged PDF</li>
            </ul>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        // Track tool visit
        CodeUtils.RecentTools.add({
            id: 'merge-pdf',
            name: 'Merge PDF',
            url: 'merge-pdf.html'
        });

        // Initialize message container
        CodeUtils.Message.init('message-container');

        // Get elements
        const fileInput = document.getElementById('fileInput');
        const fileInfo = document.getElementById('fileInfo');
        const fileList = document.getElementById('fileList');
        const mergeBtn = document.getElementById('mergeBtn');
        const clearBtn = document.getElementById('clearBtn');

        let selectedFiles = [];

        // File input change handler
        fileInput.addEventListener('change', handleFileSelect);

        function handleFileSelect(e) {
            const files = Array.from(e.target.files);

            if (files.length === 0) return;

            if (files.length < 2) {
                CodeUtils.Message.warning('Please select at least 2 PDF files to merge');
                return;
            }

            // Validate files
            const validFiles = files.filter(file => {
                if (file.type !== 'application/pdf') {
                    CodeUtils.Message.warning(`Skipped ${file.name}: Only PDF files are supported`);
                    return false;
                }
                if (file.size > 50 * 1024 * 1024) {
                    CodeUtils.Message.warning(`Skipped ${file.name}: File size must be less than 50MB`);
                    return false;
                }
                return true;
            });

            if (validFiles.length < 2) {
                CodeUtils.Message.warning('Please select at least 2 valid PDF files to merge');
                return;
            }

            selectedFiles = validFiles;
            displayFileList(validFiles);
            updateFileInfo(validFiles);
            mergeBtn.disabled = false;
        }

        function displayFileList(files) {
            fileList.innerHTML = '';

            const listContainer = document.createElement('div');
            listContainer.className = 'pdf-file-list';

            files.forEach((file, index) => {
                const fileItem = document.createElement('div');
                fileItem.className = 'pdf-file-item';
                fileItem.innerHTML = `
                    <div class="pdf-file-number">${index + 1}</div>
                    <div class="pdf-file-details">
                        <div class="pdf-file-name">${file.name}</div>
                        <div class="pdf-file-size">${formatFileSize(file.size)}</div>
                    </div>
                    <button class="pdf-file-remove" onclick="removeFile(${index})" title="Remove">‚úï</button>
                `;
                listContainer.appendChild(fileItem);
            });

            fileList.appendChild(listContainer);
        }

        window.removeFile = function(index) {
            selectedFiles.splice(index, 1);

            if (selectedFiles.length < 2) {
                clearFiles();
                CodeUtils.Message.warning('At least 2 PDF files are required for merging');
                return;
            }

            displayFileList(selectedFiles);
            updateFileInfo(selectedFiles);
        };

        function updateFileInfo(files) {
            const count = files.length;
            const totalSize = files.reduce((sum, file) => sum + file.size, 0);
            fileInfo.textContent = `${count} PDF file${count > 1 ? 's' : ''} selected (${formatFileSize(totalSize)})`;
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        // Merge button handler
        mergeBtn.addEventListener('click', async () => {
            if (selectedFiles.length < 2) {
                CodeUtils.Message.error('Please select at least 2 PDF files');
                return;
            }

            try {
                mergeBtn.disabled = true;
                mergeBtn.textContent = 'Merging...';
                CodeUtils.Message.success('Merging PDF files...');

                // Load pdf-lib
                const { PDFDocument } = PDFLib;

                // Create a new PDFDocument
                const mergedPdf = await PDFDocument.create();

                // Process each PDF
                for (let i = 0; i < selectedFiles.length; i++) {
                    CodeUtils.Message.success(`Processing file ${i + 1} of ${selectedFiles.length}...`);

                    const arrayBuffer = await selectedFiles[i].arrayBuffer();
                    const pdf = await PDFDocument.load(arrayBuffer);

                    // Copy all pages from this PDF
                    const copiedPages = await mergedPdf.copyPages(pdf, pdf.getPageIndices());
                    copiedPages.forEach((page) => mergedPdf.addPage(page));
                }

                // Save the merged PDF
                const mergedPdfBytes = await mergedPdf.save();

                // Create blob and download
                const blob = new Blob([mergedPdfBytes], { type: 'application/pdf' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = 'merged.pdf';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                CodeUtils.Message.success('PDFs merged successfully!');

                // Track merge
                gtag('event', 'merge', {
                    'event_category': 'merge_pdf',
                    'event_label': 'success',
                    'value': selectedFiles.length
                });

            } catch (error) {
                console.error('Merge error:', error);
                CodeUtils.Message.error('Failed to merge PDFs: ' + error.message);

                gtag('event', 'error', {
                    'event_category': 'merge_pdf',
                    'event_label': error.message
                });
            } finally {
                mergeBtn.disabled = false;
                mergeBtn.textContent = 'Merge PDFs';
            }
        });

        // Clear button handler
        clearBtn.addEventListener('click', clearFiles);

        function clearFiles() {
            fileInput.value = '';
            selectedFiles = [];
            fileList.innerHTML = '';
            fileInfo.textContent = 'No files selected';
            mergeBtn.disabled = true;
            CodeUtils.Message.success('Cleared all files');
        }

        // Drag and drop support
        const container = document.querySelector('.card');

        container.addEventListener('dragover', (e) => {
            e.preventDefault();
            container.style.borderColor = '#3498db';
        });

        container.addEventListener('dragleave', (e) => {
            e.preventDefault();
            container.style.borderColor = '';
        });

        container.addEventListener('drop', (e) => {
            e.preventDefault();
            container.style.borderColor = '';

            const files = Array.from(e.dataTransfer.files);
            const pdfFiles = files.filter(f => f.type === 'application/pdf');

            if (pdfFiles.length >= 2) {
                const dt = new DataTransfer();
                pdfFiles.forEach(file => dt.items.add(file));
                fileInput.files = dt.files;
                fileInput.dispatchEvent(new Event('change'));
            } else {
                CodeUtils.Message.warning('Please drop at least 2 PDF files');
            }
        });
    </script>

    <style>
        .file-list {
            margin: 1.5rem 0;
        }

        .pdf-file-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .pdf-file-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
        }

        .pdf-file-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            font-size: 0.875rem;
            flex-shrink: 0;
        }

        .pdf-file-details {
            flex: 1;
            min-width: 0;
        }

        .pdf-file-name {
            font-weight: 500;
            margin-bottom: 0.25rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .pdf-file-size {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .pdf-file-remove {
            background: var(--danger-color);
            color: white;
            border: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.125rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: background-color 0.2s;
        }

        .pdf-file-remove:hover {
            background: #c0392b;
        }
    </style>
</body>

</html>
