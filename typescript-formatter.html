<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free TypeScript Formatter | Format TS Code Online - Code Utils</title>
    <meta name="description" content="Format TypeScript code with proper indentation instantly. Beautify TS files for better readability. 100% private browser-based tool. Try it now!">
    <meta name="keywords" content="typescript formatter, typescript beautifier, format typescript, ts formatter, typescript code formatter">
    <link rel="canonical" href="https://codeutils.org/typescript-formatter">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/typescript-formatter">
    <meta property="og:title" content="Free TypeScript Formatter - Code Utils">
    <meta property="og:description" content="Format TypeScript code with proper indentation and beautification. Improve TS code readability instantly. 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/typescript-formatter.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="TypeScript Formatter - Free TS code beautifier">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="TypeScript Formatter - Code Utils">
    <meta name="twitter:description" content="Format TypeScript code with proper indentation. Free tool with 100% private processing.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/typescript-formatter.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "TypeScript Formatter - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free TypeScript formatter and beautifier. Format TypeScript code with proper indentation and syntax. 100% client-side processing.",
      "url": "https://codeutils.org/typescript-formatter",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
    <style>
        .options-row {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: var(--spacing-md);
        }
        .options-row label {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        .options-row select {
            padding: var(--spacing-xs) var(--spacing-sm);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">TypeScript Formatter</h2>
            <p style="margin: 0; color: var(--text-secondary);">Format and beautify TypeScript code.</p>
        </div>

        <div class="editor-section">
            <div class="editor-header">TypeScript Input</div>
            <textarea id="tsInput" class="editor" placeholder="interface User{name:string;age:number}
function greet(user:User):string{return `Hello ${user.name}`}
const users:User[]=[{name:'John',age:30}]"></textarea>
        </div>

        <div class="options-row">
            <label>
                Indent:
                <select id="indentType">
                    <option value="2" selected>2 Spaces</option>
                    <option value="4">4 Spaces</option>
                    <option value="tab">Tab</option>
                </select>
            </label>
            <label>
                <input type="checkbox" id="semicolons" checked>
                Add semicolons
            </label>
            <label>
                <input type="checkbox" id="singleQuotes">
                Single quotes
            </label>
        </div>

        <div class="controls">
            <button class="btn" onclick="formatTS()">Format TypeScript</button>
            <button class="btn btn-secondary" onclick="copyOutput()">Copy</button>
            <button class="btn btn-secondary" onclick="downloadTS()">Download</button>
            <button class="btn btn-outline" onclick="clearAll()">Clear</button>
        </div>

        <div id="message" class="message"></div>

        <div class="editor-section">
            <div class="editor-header">Formatted TypeScript</div>
            <textarea id="tsOutput" class="editor" readonly placeholder="Formatted TypeScript will appear here..."></textarea>
        </div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="json-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">{ }</span>
                    <span class="related-tool-name">JSON Formatter</span>
                </a>
                <a href="sql-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">SQL</span>
                    <span class="related-tool-name">SQL Formatter</span>
                </a>
                <a href="yaml-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">YML</span>
                    <span class="related-tool-name">YAML Formatter</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About TypeScript Formatter</h2>
            <p>TypeScript adds powerful type annotations and modern JavaScript features to help developers write safer, more maintainable code—but TypeScript files can quickly become difficult to read without consistent formatting. Our TypeScript Formatter instantly beautifies TypeScript code with proper indentation, consistent spacing, and clean organization of types, interfaces, and decorators. Whether you are formatting generated TypeScript, cleaning up type definitions, or standardizing code before a pull request, this tool handles all TypeScript syntax correctly. All processing happens entirely in your browser for complete privacy.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Full TypeScript Support:</strong> Correctly format TypeScript-specific syntax including interfaces, type aliases, enums, decorators, and generics</li>
                <li><strong>Beautify TypeScript:</strong> Transform minified or poorly formatted TypeScript into clean, readable code with proper indentation</li>
                <li><strong>Minify TypeScript:</strong> Remove unnecessary whitespace and comments to compact TypeScript files</li>
                <li><strong>Multiple Indentation Options:</strong> Choose 2 spaces, 4 spaces, or tabs to match your tsconfig and team standards</li>
                <li><strong>File Upload Support:</strong> Upload .ts or .tsx files directly or drag and drop them into the tool</li>
                <li><strong>One-Click Copy:</strong> Instantly copy the formatted output to your clipboard</li>
                <li><strong>Download Output:</strong> Save the formatted TypeScript as a .ts file to your computer</li>
                <li><strong>Privacy First:</strong> 100% client-side processing—your TypeScript code never leaves your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Method 1: Paste TypeScript Code</strong></p>
            <ol>
                <li>Copy your TypeScript code from your editor, generated type definitions, or API client</li>
                <li>Paste it into the input text area on the left side</li>
                <li>Click "Format" to beautify or "Minify" to compact the code</li>
                <li>The formatted output appears instantly in the output area on the right</li>
                <li>Copy or download the result as needed</li>
            </ol>

            <p><strong>Method 2: Upload a TypeScript File</strong></p>
            <ol>
                <li>Click the "Upload" button or drag and drop your .ts or .tsx file into the designated area</li>
                <li>The file content will automatically load into the input area</li>
                <li>Format as needed, then use the "Download" button to save the result</li>
            </ol>

            <h3>Common Use Cases</h3>

            <p><strong>Formatting Auto-Generated Type Definitions</strong></p>
            <p>Tools like OpenAPI generators, GraphQL code generators, and Prisma schema generators often produce TypeScript type definitions that are correctly structured but poorly formatted with inconsistent spacing and indentation. Before adding generated types to your codebase, run them through this formatter to normalize the style to match your project's conventions. This makes generated code indistinguishable from hand-written code in your repository.</p>

            <p><strong>Cleaning Up TypeScript from External Sources</strong></p>
            <p>Code examples from StackOverflow, blog posts, and documentation often use different indentation styles and formatting conventions than your project. Before incorporating TypeScript snippets into your codebase, format them to match your project's style. This prevents style inconsistencies from spreading through your codebase and makes code reviews cleaner.</p>

            <p><strong>Preparing TypeScript for Code Review</strong></p>
            <p>Many TypeScript projects use Prettier or ESLint with formatting rules that are checked during CI. Before submitting a pull request, ensure your TypeScript code is properly formatted to avoid CI failures and formatting-related review comments. Use this tool as a quick check when you do not have your development environment available.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>Use 2-space indentation for TypeScript:</strong> Most TypeScript projects (Angular, React, Vue with TypeScript) use 2-space indentation as configured by Prettier—check your project's .prettierrc to confirm the standard</li>
                <li><strong>Keep interface names descriptive:</strong> After formatting, review that interface and type names clearly describe what they represent—good naming combined with clean formatting makes TypeScript much more self-documenting</li>
                <li><strong>Separate type imports:</strong> TypeScript 3.8+ supports 'import type' for type-only imports, which can improve build performance—properly formatted code makes it easier to identify and organize these imports</li>
                <li><strong>Format .tsx files carefully:</strong> React TSX files mix TypeScript with JSX—formatting works correctly, but ensure your team has agreed on self-closing tag style and attribute formatting conventions</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: Is my TypeScript code safe when using this tool?</strong></p>
            <p>A: Yes, absolutely! All TypeScript formatting happens entirely in your browser using JavaScript. Your code—including proprietary business logic, API client configurations, and type definitions—never leaves your computer and is never uploaded to any server. You can safely format sensitive TypeScript code without any privacy concerns.</p>

            <p><strong>Q: Does this tool support TSX (TypeScript + JSX) files?</strong></p>
            <p>A: Yes! This formatter correctly handles TSX files that combine TypeScript with JSX syntax for React components. Both the TypeScript type annotations and the JSX markup will be properly formatted and indented.</p>

            <p><strong>Q: How does this differ from running Prettier or ESLint?</strong></p>
            <p>A: Prettier and ESLint are command-line tools you install and configure per project. This tool requires zero installation or configuration—paste your TypeScript and format instantly in the browser. It is ideal for quick formatting tasks, formatting snippets from other sources, and situations where you do not have your local toolchain available.</p>

            <p><strong>Q: Do I need to create an account or sign up?</strong></p>
            <p>A: No! All our tools are completely free and don't require any registration, sign-up, or account creation. Just visit the page and start using the TypeScript formatter immediately. There are no limits on usage, no premium tiers, and no hidden fees.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'typescript-formatter',
            name: 'TypeScript Formatter',
            url: 'typescript-formatter.html'
        });

        CodeUtils.Message.init('message');

        function formatTS() {
            const input = document.getElementById('tsInput').value;
            if (!input.trim()) {
                CodeUtils.Message.error('Please enter TypeScript code');
                return;
            }

            const indentType = document.getElementById('indentType').value;
            const useSemicolons = document.getElementById('semicolons').checked;
            const useSingleQuotes = document.getElementById('singleQuotes').checked;
            const indent = indentType === 'tab' ? '\t' : ' '.repeat(parseInt(indentType));

            try {
                const formatted = formatTypeScript(input, indent, useSemicolons, useSingleQuotes);
                document.getElementById('tsOutput').value = formatted;
                CodeUtils.Message.success('TypeScript formatted!');
            } catch (e) {
                CodeUtils.Message.error('Error formatting TypeScript: ' + e.message);
            }
        }

        function formatTypeScript(code, indent, useSemicolons, useSingleQuotes) {
            // Normalize line endings
            code = code.replace(/\r\n/g, '\n').replace(/\r/g, '\n');

            let result = '';
            let indentLevel = 0;
            let inString = false;
            let stringChar = '';
            let inTemplate = false;
            let templateDepth = 0;
            let inComment = false;
            let inMultiComment = false;
            let i = 0;
            let lineStart = true;
            let lastNonSpace = '';

            // First pass: normalize spacing
            code = code
                .replace(/\{(?!\{)/g, ' {\n')
                .replace(/(?<!\})\}/g, '\n}')
                .replace(/;/g, ';\n')
                .replace(/,\s*/g, ', ')
                .replace(/:\s*/g, ': ')
                .replace(/\s*=\s*/g, ' = ')
                .replace(/\s*=>\s*/g, ' => ')
                .replace(/\n\s*\n\s*\n/g, '\n\n');

            const lines = code.split('\n');
            const formattedLines = [];

            for (let line of lines) {
                let trimmed = line.trim();
                if (!trimmed) {
                    if (formattedLines.length > 0 && formattedLines[formattedLines.length - 1] !== '') {
                        formattedLines.push('');
                    }
                    continue;
                }

                // Handle multi-line comments
                if (inMultiComment) {
                    formattedLines.push(indent.repeat(indentLevel) + trimmed);
                    if (trimmed.includes('*/')) {
                        inMultiComment = false;
                    }
                    continue;
                }

                if (trimmed.startsWith('/*')) {
                    inMultiComment = !trimmed.includes('*/');
                    formattedLines.push(indent.repeat(indentLevel) + trimmed);
                    continue;
                }

                // Handle single-line comments
                if (trimmed.startsWith('//')) {
                    formattedLines.push(indent.repeat(indentLevel) + trimmed);
                    continue;
                }

                // Decrease indent for closing braces
                if (trimmed.startsWith('}') || trimmed.startsWith(')') || trimmed.startsWith(']')) {
                    indentLevel = Math.max(0, indentLevel - 1);
                }

                // Handle quotes
                if (useSingleQuotes) {
                    trimmed = trimmed.replace(/"([^"\\]*(\\.[^"\\]*)*)"/g, "'$1'");
                } else {
                    trimmed = trimmed.replace(/'([^'\\]*(\\.[^'\\]*)*)'/g, '"$1"');
                }

                // Handle semicolons
                if (!useSemicolons) {
                    trimmed = trimmed.replace(/;$/g, '');
                } else if (!trimmed.endsWith(';') && !trimmed.endsWith('{') &&
                           !trimmed.endsWith('}') && !trimmed.endsWith(',') &&
                           !trimmed.endsWith('(') && !trimmed.startsWith('//') &&
                           !trimmed.startsWith('import ') && !trimmed.startsWith('export ')) {
                    // Don't add semicolons after certain patterns
                    if (!/^(if|else|for|while|switch|try|catch|finally|interface|type|class|function|=>|\{|\})/.test(trimmed) &&
                        !trimmed.endsWith(':')) {
                        // trimmed += ';'; // Only add if strictly needed
                    }
                }

                formattedLines.push(indent.repeat(indentLevel) + trimmed);

                // Increase indent for opening braces
                const opens = (trimmed.match(/[{(\[]/g) || []).length;
                const closes = (trimmed.match(/[})\]]/g) || []).length;
                indentLevel += opens - closes;
                indentLevel = Math.max(0, indentLevel);
            }

            return formattedLines.join('\n').replace(/\n\n\n+/g, '\n\n');
        }

        function copyOutput() {
            const output = document.getElementById('tsOutput').value;
            if (!output) {
                CodeUtils.Message.error('Nothing to copy');
                return;
            }
            CodeUtils.Clipboard.copy(output);
            CodeUtils.Message.success('Copied!');
        }

        function downloadTS() {
            const output = document.getElementById('tsOutput').value;
            if (!output) {
                CodeUtils.Message.error('Nothing to download');
                return;
            }
            CodeUtils.FileHandler.download(output, 'formatted.ts', 'text/typescript');
            CodeUtils.Message.success('Downloaded!');
        }

        function clearAll() {
            document.getElementById('tsInput').value = '';
            document.getElementById('tsOutput').value = '';
        }
    </script>
</body>
</html>
