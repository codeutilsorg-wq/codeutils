<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free XPath Tester | Test XPath Expressions Online - Code Utils</title>
    <meta name="description" content="Test XPath expressions against XML documents instantly. Query and extract XML elements with live results. 100% free and private. Try example queries now!">
    <meta name="keywords" content="xpath tester, xml query, xpath expression, xml selector, xpath evaluator">
    <link rel="canonical" href="https://codeutils.org/xpath-tester">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/xpath-tester">
    <meta property="og:title" content="Free XPath Tester - Code Utils">
    <meta property="og:description" content="Test XPath expressions against XML documents with live results. Query and extract XML elements instantly. 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/xpath-tester.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="XPath Tester - Free XML query tool">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="XPath Tester - Code Utils">
    <meta name="twitter:description" content="Test XPath expressions against XML documents. Free tool with live query results.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/xpath-tester.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "XPath Tester - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free XPath tester. Test XPath expressions against XML documents with live results and element extraction. 100% client-side processing.",
      "url": "https://codeutils.org/xpath-tester",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
    <style>
        .path-input {
            font-family: var(--font-mono);
            font-size: 1.125rem;
            padding: var(--spacing-md);
        }
        .examples {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-xs);
            margin-bottom: var(--spacing-md);
        }
        .example {
            padding: var(--spacing-xs) var(--spacing-sm);
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            cursor: pointer;
        }
        .example:hover {
            background: var(--primary);
            color: white;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">XPath Tester</h2>
            <p style="margin: 0; color: var(--text-secondary);">Test XPath expressions to query and extract XML data.</p>
        </div>

        <div class="editor-section">
            <div class="editor-header">XPath Expression</div>
            <input type="text" id="xpathInput" class="editor path-input" value="//book/title" placeholder="/root/element" oninput="testXPath()">
        </div>

        <div class="examples">
            <span class="example" onclick="setPath('/bookstore')">/bookstore</span>
            <span class="example" onclick="setPath('//book')"> //book</span>
            <span class="example" onclick="setPath('//book/title')"> //book/title</span>
            <span class="example" onclick="setPath('//book[@category]')"> //book[@category]</span>
            <span class="example" onclick="setPath('//book[price>10]')"> //book[price>10]</span>
            <span class="example" onclick="setPath('//book[1]')"> //book[1]</span>
        </div>

        <div class="editor-section">
            <div class="editor-header">XML Input</div>
            <textarea id="xmlInput" class="editor" oninput="testXPath()"><?xml version="1.0"?>
<bookstore>
  <book category="cooking">
    <title>Everyday Italian</title>
    <author>Giada De Laurentiis</author>
    <price>30.00</price>
  </book>
  <book category="children">
    <title>Harry Potter</title>
    <author>J K. Rowling</author>
    <price>29.99</price>
  </book>
  <book category="web">
    <title>Learning XML</title>
    <author>Erik T. Ray</author>
    <price>9.95</price>
  </book>
</bookstore></textarea>
        </div>

        <div class="controls">
            <button class="btn" onclick="testXPath()">Test XPath</button>
            <button class="btn btn-secondary" onclick="copyResult()">Copy Result</button>
            <button class="btn btn-outline" onclick="clearAll()">Clear</button>
        </div>

        <div id="message" class="message"></div>

        <div class="editor-section">
            <div class="editor-header">Result (<span id="matchCount">0</span> matches)</div>
            <textarea id="resultOutput" class="editor" readonly placeholder="Query result will appear here..."></textarea>
        </div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="xml-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon"></></span>
                    <span class="related-tool-name">XML Formatter</span>
                </a>
                <a href="jsonpath-tester.html" class="related-tool-card">
                    <span class="related-tool-icon">$..</span>
                    <span class="related-tool-name">JSONPath Tester</span>
                </a>
                <a href="xml-to-json.html" class="related-tool-card">
                    <span class="related-tool-icon">X>J</span>
                    <span class="related-tool-name">XML to JSON</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About XPath Tester</h2>
            <p>XPath (XML Path Language) is the standard query language for selecting nodes in XML documents—and it works equally well for querying HTML. It is used in web scraping, XML data processing, XSLT transformations, Selenium test automation, and document processing pipelines. Our XPath Tester lets you paste any XML or HTML document and test XPath expressions against it instantly, displaying all matching nodes as formatted output. Get immediate feedback on your expressions without writing or running any code.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Instant Evaluation:</strong> Test XPath expressions against XML or HTML and see all matching nodes immediately</li>
                <li><strong>Works with HTML:</strong> Use XPath on HTML documents—useful for Selenium, Playwright, and web scraping expressions</li>
                <li><strong>Multiple Result Types:</strong> Returns node sets, strings, numbers, or booleans depending on the expression</li>
                <li><strong>Syntax Reference:</strong> Built-in reference for XPath axes, functions, and predicates</li>
                <li><strong>Common Examples:</strong> Clickable example expressions to learn XPath interactively</li>
                <li><strong>Privacy First:</strong> 100% client-side processing—your XML data never leaves your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Testing an XPath Expression</strong></p>
            <ol>
                <li>Paste your XML or HTML document into the input area</li>
                <li>Enter your XPath expression in the expression field</li>
                <li>Click "Test XPath" to evaluate the expression</li>
                <li>Matching nodes or values appear in the Results panel</li>
            </ol>

            <h3>XPath Syntax Reference</h3>
            <table style="width: 100%; border-collapse: collapse;">
                <tr style="border-bottom: 1px solid var(--border);">
                    <th style="text-align: left; padding: 8px;">Expression</th>
                    <th style="text-align: left; padding: 8px;">Description</th>
                </tr>
                <tr><td style="padding: 8px;"><code>/</code></td><td style="padding: 8px;">Root node or child separator</td></tr>
                <tr><td style="padding: 8px;"><code>//</code></td><td style="padding: 8px;">Descendant at any level</td></tr>
                <tr><td style="padding: 8px;"><code>@</code></td><td style="padding: 8px;">Attribute selector</td></tr>
                <tr><td style="padding: 8px;"><code>[n]</code></td><td style="padding: 8px;">Index predicate (1-based)</td></tr>
                <tr><td style="padding: 8px;"><code>[@attr]</code></td><td style="padding: 8px;">Has attribute</td></tr>
                <tr><td style="padding: 8px;"><code>[@attr='value']</code></td><td style="padding: 8px;">Attribute equals value</td></tr>
                <tr><td style="padding: 8px;"><code>text()</code></td><td style="padding: 8px;">Text content of node</td></tr>
                <tr><td style="padding: 8px;"><code>contains(@class, 'x')</code></td><td style="padding: 8px;">Attribute contains substring</td></tr>
            </table>

            <h3>Common Use Cases</h3>

            <p><strong>Selenium and Playwright Test Automation</strong></p>
            <p>XPath locators are widely used in Selenium WebDriver and Playwright tests to find elements in the page DOM when CSS selectors are insufficient. Test your XPath expression against the page's HTML before adding it to your test suite to confirm it selects the correct element(s). Use the attribute-based predicates (//button[@type='submit']) to write robust locators that do not depend on element position.</p>

            <p><strong>Processing XML Data Files</strong></p>
            <p>Configuration files, SOAP API responses, RSS feeds, and data exports often use XML. XPath lets you query these files programmatically—extracting specific fields, filtering by attribute values, or counting elements. Test your XPath expressions here against a sample XML document before using them in your XSLT, Python (lxml), Java (javax.xml), or C# (XDocument) code.</p>

            <p><strong>Web Scraping Locators</strong></p>
            <p>Web scraping tools like Scrapy, BeautifulSoup with lxml, and browser automation frameworks use XPath to locate elements in scraped HTML. Test locators against the HTML source of the target page to verify they match exactly the elements you need—and that they will remain stable when the page content changes but the structure does not.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>Prefer attribute-based XPath for test automation:</strong> //button[@data-testid='submit'] is more stable than //div[3]/form/button[2]—position-based paths break when the page layout changes</li>
                <li><strong>Use // for flexible descendant search:</strong> //p selects all paragraph elements anywhere in the document—use /html/body/div/p only when you need to match a specific structural path</li>
                <li><strong>XPath indexes are 1-based:</strong> Unlike JSONPath and JavaScript arrays, XPath predicates use 1-based indexing—so [1] selects the first element, not [0]</li>
                <li><strong>Use contains() for partial attribute matching:</strong> //a[contains(@href, 'example.com')] finds all links to a domain without needing the exact full URL</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: Does this tool work with HTML as well as XML?</strong></p>
            <p>A: Yes. The tool parses HTML input using the browser's built-in DOMParser and evaluates XPath against it. This makes it useful for testing Selenium/Playwright locators and web scraping expressions directly against page HTML.</p>

            <p><strong>Q: What is the difference between XPath and CSS selectors?</strong></p>
            <p>A: Both select elements in an HTML/XML document. CSS selectors are simpler and widely supported in browsers and scraping tools, but XPath is more powerful—it can select by text content, navigate up to parent elements, and work with any XML document, not just HTML. Use XPath when CSS selectors cannot express the selection you need.</p>

            <p><strong>Q: Is my XML/HTML data safe to paste here?</strong></p>
            <p>A: Yes. All XPath evaluation happens entirely in your browser. Your document is never uploaded to any server, stored, or transmitted. This makes the tool safe to use with proprietary data, internal HTML, and sensitive XML documents.</p>

            <p><strong>Q: Do I need an account to use this?</strong></p>
            <p>A: No. The tool is completely free with no registration required.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'xpath-tester',
            name: 'XPath Tester',
            url: 'xpath-tester.html'
        });

        CodeUtils.Message.init('message');

        function setPath(path) {
            document.getElementById('xpathInput').value = path;
            testXPath();
        }

        function serializeNode(node) {
            if (node.nodeType === Node.TEXT_NODE) {
                return node.textContent.trim();
            }
            if (node.nodeType === Node.ATTRIBUTE_NODE) {
                return `${node.name}="${node.value}"`;
            }
            const serializer = new XMLSerializer();
            return serializer.serializeToString(node);
        }

        function testXPath() {
            const xmlStr = document.getElementById('xmlInput').value.trim();
            const xpath = document.getElementById('xpathInput').value.trim();

            if (!xmlStr || !xpath) {
                document.getElementById('resultOutput').value = '';
                document.getElementById('matchCount').textContent = '0';
                return;
            }

            try {
                const parser = new DOMParser();
                const xmlDoc = parser.parseFromString(xmlStr, 'text/xml');

                const parseError = xmlDoc.querySelector('parsererror');
                if (parseError) {
                    throw new Error('Invalid XML');
                }

                const result = xmlDoc.evaluate(
                    xpath,
                    xmlDoc,
                    null,
                    XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,
                    null
                );

                const matches = [];
                for (let i = 0; i < result.snapshotLength; i++) {
                    matches.push(serializeNode(result.snapshotItem(i)));
                }

                document.getElementById('matchCount').textContent = matches.length;
                document.getElementById('resultOutput').value = matches.join('\n\n');
                CodeUtils.Message.success(`Found ${matches.length} match(es)`);
            } catch (e) {
                CodeUtils.Message.error(e.message);
                document.getElementById('matchCount').textContent = '0';
            }
        }

        function copyResult() {
            const result = document.getElementById('resultOutput').value;
            if (!result) {
                CodeUtils.Message.error('Nothing to copy');
                return;
            }
            CodeUtils.Clipboard.copy(result);
            CodeUtils.Message.success('Copied!');
        }

        function clearAll() {
            document.getElementById('xpathInput').value = '';
            document.getElementById('xmlInput').value = '';
            document.getElementById('resultOutput').value = '';
            document.getElementById('matchCount').textContent = '0';
        }

        testXPath();
    </script>
</body>
</html>
