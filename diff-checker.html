<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Diff Checker | Compare Text & Find Differences - Code Utils</title>
    <meta name="description" content="Compare two texts and highlight differences instantly. Side-by-side or inline diff view with color coding. 100% private client-side processing. Compare texts now!">
    <meta name="keywords" content="diff checker, text compare, difference checker, compare text, diff tool">
    <link rel="canonical" href="https://codeutils.org/diff-checker">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/diff-checker">
    <meta property="og:title" content="Text Diff Checker - Code Utils">
    <meta property="og:description" content="Compare two texts and highlight differences with color coding. Side-by-side or inline view. 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/diff-checker.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Text Diff Checker - Free online tool">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Text Diff Checker - Code Utils">
    <meta name="twitter:description" content="Compare texts and find differences instantly. Free tool with 100% private processing.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/diff-checker.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Text Diff Checker - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free online text diff checker. Compare two texts and highlight differences with side-by-side or inline view. 100% client-side processing.",
      "url": "https://codeutils.org/diff-checker",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
    <style>
        .diff-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
        }
        .diff-output {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            white-space: pre-wrap;
            overflow-x: auto;
            min-height: 200px;
            max-height: 500px;
            overflow-y: auto;
        }
        .diff-added {
            background: #d4edda;
            color: #155724;
        }
        .diff-removed {
            background: #f8d7da;
            color: #721c24;
        }
        .diff-line {
            display: block;
            padding: 2px 4px;
        }
        .diff-line-number {
            display: inline-block;
            width: 40px;
            color: var(--text-secondary);
            text-align: right;
            margin-right: 10px;
            user-select: none;
        }
        [data-theme="dark"] .diff-added {
            background: #1e4620;
            color: #a3d9a5;
        }
        [data-theme="dark"] .diff-removed {
            background: #4a1a1a;
            color: #f5a5a5;
        }
        .stats-bar {
            display: flex;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            font-family: var(--font-mono);
            font-size: 0.875rem;
        }
        .stat-added { color: #28a745; }
        .stat-removed { color: #dc3545; }
        .stat-unchanged { color: var(--text-secondary); }
        @media (max-width: 768px) {
            .diff-inputs {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">Text Diff Checker</h2>
            <p style="margin: 0; color: var(--text-secondary);">Compare two texts and see the differences highlighted.</p>
        </div>

        <div class="diff-inputs">
            <div class="editor-section">
                <div class="editor-header">Original Text</div>
                <textarea id="text1" class="editor" placeholder="Paste original text here..."></textarea>
            </div>
            <div class="editor-section">
                <div class="editor-header">Modified Text</div>
                <textarea id="text2" class="editor" placeholder="Paste modified text here..."></textarea>
            </div>
        </div>

        <div class="controls">
            <button class="btn" onclick="compareDiff()">Compare</button>
            <button class="btn btn-secondary" onclick="swapTexts()">Swap Texts</button>
            <button class="btn btn-outline" onclick="clearAll()">Clear All</button>
        </div>

        <div id="message" class="message"></div>

        <div class="stats-bar" id="statsBar" style="display: none;">
            <span class="stat-added" id="statAdded">+0 added</span>
            <span class="stat-removed" id="statRemoved">-0 removed</span>
            <span class="stat-unchanged" id="statUnchanged">0 unchanged</span>
        </div>

        <div class="editor-section">
            <div class="editor-header">Differences</div>
            <div class="diff-output" id="diffOutput">Differences will be shown here...</div>
        </div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="find-replace.html" class="related-tool-card">
                    <span class="related-tool-icon">F/R</span>
                    <span class="related-tool-name">Find and Replace</span>
                </a>
                <a href="word-counter.html" class="related-tool-card">
                    <span class="related-tool-icon">Wc</span>
                    <span class="related-tool-name">Word Counter</span>
                </a>
                <a href="duplicate-remover.html" class="related-tool-card">
                    <span class="related-tool-icon">D-</span>
                    <span class="related-tool-name">Duplicate Remover</span>
                </a>
                <a href="text-sorter.html" class="related-tool-card">
                    <span class="related-tool-icon">AZ</span>
                    <span class="related-tool-name">Text Sorter</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About Diff Checker</h2>
            <p>Comparing two versions of text, code, or configuration files by eye is time-consuming and error-prone—it is easy to miss small changes like a single character difference or a moved line. Our Diff Checker instantly compares two pieces of text and highlights exactly what was added, removed, or changed using color-coded visual diffing. Whether you are reviewing code changes, comparing document versions, or verifying configuration updates, this tool shows you exactly what changed in seconds. All processing happens entirely in your browser for complete privacy.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Side-by-Side Comparison:</strong> View original and modified text side by side with differences highlighted in color</li>
                <li><strong>Color-Coded Changes:</strong> Green highlights show additions, red highlights show deletions, making changes instantly visible</li>
                <li><strong>Line-by-Line Diff:</strong> See exactly which lines were added, removed, or modified</li>
                <li><strong>Inline Character Diff:</strong> For modified lines, see the exact characters that changed within each line</li>
                <li><strong>Change Summary:</strong> Get a quick count of lines added, removed, and modified</li>
                <li><strong>File Upload Support:</strong> Upload two text files to compare them directly without copying and pasting</li>
                <li><strong>One-Click Copy:</strong> Copy the diff output for sharing with teammates</li>
                <li><strong>Privacy First:</strong> 100% client-side processing—your content never leaves your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Method 1: Paste Text Directly</strong></p>
            <ol>
                <li>Paste your original (old) text into the left text area labeled "Original"</li>
                <li>Paste your modified (new) text into the right text area labeled "Modified"</li>
                <li>Click the "Compare" button to generate the diff</li>
                <li>Review the highlighted differences—green for additions, red for deletions</li>
            </ol>

            <p><strong>Method 2: Upload Files to Compare</strong></p>
            <ol>
                <li>Click "Upload Original" and select your original file</li>
                <li>Click "Upload Modified" and select your modified file</li>
                <li>The files load automatically and the diff generates instantly</li>
                <li>Review the highlighted changes between the two versions</li>
            </ol>

            <h3>Common Use Cases</h3>

            <p><strong>Code Review Without Git</strong></p>
            <p>Not every code change goes through a proper pull request workflow. When a colleague sends you a modified file via email, Slack, or a shared folder, use this diff checker to see exactly what changed. Paste the original file content in the left panel and the modified content in the right panel to get a clear, color-coded view of every addition and deletion—just like GitHub's pull request diff view.</p>

            <p><strong>Comparing Configuration File Versions</strong></p>
            <p>When deploying application updates, database schema changes, or infrastructure modifications, comparing old and new configuration files is essential for understanding the impact of changes. Use this tool to compare nginx configs, docker-compose files, environment variable files, and other configurations to verify that only the intended changes were made and no unintended modifications crept in.</p>

            <p><strong>Document Version Comparison</strong></p>
            <p>When collaborating on documents, contracts, or specifications, tracking changes between versions is critical. Copy the text from both versions and use the diff checker to instantly see what was added, removed, or reworded. This is especially useful when working with plain text or markdown documents where track changes features are not available.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>Trim whitespace before comparing:</strong> If you see many false positives (lines highlighted as changed when they look identical), the difference is likely trailing whitespace or different line endings—enable the "Ignore whitespace" option if available</li>
                <li><strong>Compare at the right granularity:</strong> For code, compare at the line level to spot structural changes. For prose, compare at the word or character level to catch small wording changes</li>
                <li><strong>Use for config file audits:</strong> Periodically compare your production configuration files with your version-controlled baseline to detect unauthorized or accidental changes</li>
                <li><strong>Copy diff output for documentation:</strong> Save or share the diff output when documenting what changed in a release or migration for audit trails and deployment records</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: Is my content safe when using this tool?</strong></p>
            <p>A: Yes, absolutely! All text comparison happens entirely in your browser using JavaScript. Your content—including code, confidential documents, and configuration files with credentials—never leaves your computer and is never uploaded to any server. This makes our tool safe for comparing sensitive files that should not be shared with third-party services.</p>

            <p><strong>Q: What algorithm does this tool use for diffing?</strong></p>
            <p>A: This tool uses a line-based diff algorithm similar to the Unix diff command and Git's diff output. It identifies the longest common subsequence between the two texts and highlights the minimal set of additions and deletions needed to transform the original into the modified version.</p>

            <p><strong>Q: Can I compare binary files or images?</strong></p>
            <p>A: This tool is designed for text comparison—it compares plain text, code, JSON, XML, CSV, and any other text-based format. Binary files like images, PDFs, and executables cannot be meaningfully compared as text. For image comparison, consider using dedicated image diff tools.</p>

            <p><strong>Q: Do I need to create an account or sign up?</strong></p>
            <p>A: No! All our tools are completely free and don't require any registration, sign-up, or account creation. Just visit the page and start comparing text immediately. There are no limits on usage, no premium tiers, and no hidden fees.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'diff-checker',
            name: 'Diff Checker',
            url: 'diff-checker.html'
        });

        CodeUtils.Message.init('message');

        // Simple line-based diff algorithm
        function computeDiff(text1, text2) {
            const lines1 = text1.split('\n');
            const lines2 = text2.split('\n');
            const result = [];

            // LCS-based diff
            const lcs = [];
            for (let i = 0; i <= lines1.length; i++) {
                lcs[i] = [];
                for (let j = 0; j <= lines2.length; j++) {
                    if (i === 0 || j === 0) {
                        lcs[i][j] = 0;
                    } else if (lines1[i - 1] === lines2[j - 1]) {
                        lcs[i][j] = lcs[i - 1][j - 1] + 1;
                    } else {
                        lcs[i][j] = Math.max(lcs[i - 1][j], lcs[i][j - 1]);
                    }
                }
            }

            // Backtrack to find diff
            let i = lines1.length;
            let j = lines2.length;
            const diff = [];

            while (i > 0 || j > 0) {
                if (i > 0 && j > 0 && lines1[i - 1] === lines2[j - 1]) {
                    diff.unshift({ type: 'unchanged', line: lines1[i - 1] });
                    i--;
                    j--;
                } else if (j > 0 && (i === 0 || lcs[i][j - 1] >= lcs[i - 1][j])) {
                    diff.unshift({ type: 'added', line: lines2[j - 1] });
                    j--;
                } else {
                    diff.unshift({ type: 'removed', line: lines1[i - 1] });
                    i--;
                }
            }

            return diff;
        }

        function compareDiff() {
            const text1 = document.getElementById('text1').value;
            const text2 = document.getElementById('text2').value;

            if (!text1 && !text2) {
                CodeUtils.Message.error('Please enter text in both fields');
                return;
            }

            const diff = computeDiff(text1, text2);

            let added = 0, removed = 0, unchanged = 0;
            let html = '';
            let lineNum1 = 1, lineNum2 = 1;

            diff.forEach(item => {
                const escapedLine = item.line
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;');

                if (item.type === 'added') {
                    html += `<span class="diff-line diff-added"><span class="diff-line-number">+${lineNum2}</span>${escapedLine || ' '}</span>`;
                    lineNum2++;
                    added++;
                } else if (item.type === 'removed') {
                    html += `<span class="diff-line diff-removed"><span class="diff-line-number">-${lineNum1}</span>${escapedLine || ' '}</span>`;
                    lineNum1++;
                    removed++;
                } else {
                    html += `<span class="diff-line"><span class="diff-line-number">${lineNum1}</span>${escapedLine || ' '}</span>`;
                    lineNum1++;
                    lineNum2++;
                    unchanged++;
                }
            });

            document.getElementById('diffOutput').innerHTML = html || 'No differences found - texts are identical.';
            document.getElementById('statsBar').style.display = 'flex';
            document.getElementById('statAdded').textContent = `+${added} added`;
            document.getElementById('statRemoved').textContent = `-${removed} removed`;
            document.getElementById('statUnchanged').textContent = `${unchanged} unchanged`;

            if (added === 0 && removed === 0) {
                CodeUtils.Message.success('Texts are identical!');
            } else {
                CodeUtils.Message.success(`Found ${added + removed} difference${added + removed !== 1 ? 's' : ''}!`);
            }
        }

        function swapTexts() {
            const text1 = document.getElementById('text1');
            const text2 = document.getElementById('text2');
            const temp = text1.value;
            text1.value = text2.value;
            text2.value = temp;
        }

        function clearAll() {
            document.getElementById('text1').value = '';
            document.getElementById('text2').value = '';
            document.getElementById('diffOutput').innerHTML = 'Differences will be shown here...';
            document.getElementById('statsBar').style.display = 'none';
        }
    </script>
</body>
</html>
