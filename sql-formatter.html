<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CRITICAL: Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const theme = localStorage.getItem('codeutils-theme');
            if (theme === 'light') {
                document.documentElement.classList.add('light-mode');
            }
        })();
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free SQL Formatter & Beautifier | Format SQL Queries - Code Utils</title>
    <meta name="description" content="Format and beautify SQL queries instantly for better readability. Supports multiple SQL dialects with proper indentation. 100% free and private. Try now!">
    <meta name="keywords" content="sql formatter, sql beautifier, format sql, sql prettify, query formatter">
    <link rel="canonical" href="https://codeutils.org/sql-formatter">

    <!-- Favicon and Touch Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#3498db">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://codeutils.org/sql-formatter">
    <meta property="og:title" content="Free SQL Formatter & Beautifier - Code Utils">
    <meta property="og:description" content="Format and beautify SQL queries with proper indentation. Supports multiple SQL dialects for better readability. 100% private client-side processing.">
    <meta property="og:image" content="https://codeutils.org/images/og/sql-formatter.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="SQL Formatter - Free SQL query beautifier">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SQL Formatter & Beautifier - Code Utils">
    <meta name="twitter:description" content="Format SQL queries with proper indentation. Free tool supporting multiple SQL dialects.">
    <meta name="twitter:image" content="https://codeutils.org/images/og/sql-formatter.png">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">        <!-- Google Analytics (only load in production) -->
    <script>
        // Only load Google Analytics if NOT on localhost
        if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
            // Load gtag.js
            var script = document.createElement('script');
            script.async = true;
            script.src = 'https://www.googletagmanager.com/gtag/js?id=G-RPHPBJ4291';
            document.head.appendChild(script);

            // Initialize GA
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-RPHPBJ4291');
        } else {
            // Mock gtag function for localhost (prevents errors)
            window.gtag = function() {
                console.log('GA (localhost - not tracked):', arguments);
            };
        }
    </script>

    <!-- Structured Data: WebApplication Schema -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "SQL Formatter - Code Utils",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "description": "Free SQL formatter and beautifier. Format SQL queries with proper indentation and readability. 100% client-side processing.",
      "url": "https://codeutils.org/sql-formatter",
      "browserRequirements": "Requires JavaScript. Requires HTML5.",
      "softwareVersion": "1.0"
    }
    </script>

    <link rel="stylesheet" href="css/common.css">
    <style>
        .options-row {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
            flex-wrap: wrap;
            margin-bottom: var(--spacing-md);
        }
        .options-row label {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        .options-row select {
            padding: var(--spacing-xs) var(--spacing-sm);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background: var(--bg-secondary);
            color: var(--text-primary);
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="header-logo">
                <h1>Code Utils</h1>
            </a>
            <nav class="header-nav">
                <a href="index.html" class="btn btn-outline btn-sm">All Tools</a>
                <button class="theme-toggle" onclick="CodeUtils.Theme.toggle()">Toggle Dark Mode</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="card" style="margin-bottom: var(--spacing-md); padding: var(--spacing-md);">
            <h2 style="margin-bottom: var(--spacing-xs); color: var(--primary);">SQL Formatter</h2>
            <p style="margin: 0; color: var(--text-secondary);">Format and beautify SQL queries for better readability.</p>
        </div>

        <div class="editor-section">
            <div class="editor-header">SQL Input</div>
            <textarea id="sqlInput" class="editor" placeholder="SELECT * FROM users WHERE id = 1 AND status = 'active' ORDER BY name"></textarea>
        </div>

        <div class="options-row">
            <label>
                Indent:
                <select id="indentSize">
                    <option value="2">2 spaces</option>
                    <option value="4" selected>4 spaces</option>
                    <option value="tab">Tab</option>
                </select>
            </label>
            <label>
                <input type="checkbox" id="uppercase" checked>
                Uppercase keywords
            </label>
        </div>

        <div class="controls">
            <button class="btn" onclick="formatSQL()">Format SQL</button>
            <button class="btn btn-secondary" onclick="minifySQL()">Minify</button>
            <button class="btn btn-secondary" onclick="copyOutput()">Copy</button>
            <button class="btn btn-outline" onclick="clearAll()">Clear</button>
        </div>

        <div id="message" class="message"></div>

        <div class="editor-section">
            <div class="editor-header">Formatted Output</div>
            <textarea id="sqlOutput" class="editor" readonly placeholder="Formatted SQL will appear here..."></textarea>
        </div>

        <!-- Related Tools -->
        <div class="related-tools">
            <h3>Related Tools</h3>
            <div class="related-tools-grid">
                <a href="json-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon">{ }</span>
                    <span class="related-tool-name">JSON Formatter</span>
                </a>
                <a href="xml-formatter.html" class="related-tool-card">
                    <span class="related-tool-icon"></></span>
                    <span class="related-tool-name">XML Formatter</span>
                </a>
                <a href="csv-to-json.html" class="related-tool-card">
                    <span class="related-tool-icon">C>J</span>
                    <span class="related-tool-name">CSV to JSON</span>
                </a>
            </div>
        </div>

        <div class="info-section">
            <h2>About SQL Formatter</h2>
            <p>SQL queries written for performance are often compact and hard to read, while queries written quickly by developers frequently have inconsistent formatting and style. Our SQL Formatter instantly beautifies any SQL query with proper keyword capitalization, logical line breaks, and consistent indentation—making complex queries with multiple JOINs, subqueries, and CTEs easy to understand and review. Whether you are debugging slow queries, writing documentation, or doing code reviews, this tool transforms messy SQL into clean, professional code. All processing happens entirely in your browser with complete privacy.</p>

            <h3>Key Features</h3>
            <ul>
                <li><strong>Format SQL Queries:</strong> Beautify any SQL query with proper indentation, line breaks, and keyword formatting</li>
                <li><strong>Keyword Capitalization:</strong> Automatically uppercase SQL keywords (SELECT, FROM, WHERE, JOIN) for standard SQL style</li>
                <li><strong>Multiple Dialects:</strong> Support for standard SQL, MySQL, PostgreSQL, SQLite, and T-SQL formatting conventions</li>
                <li><strong>Handle Complex Queries:</strong> Properly format JOINs, subqueries, CTEs (WITH clauses), UNION statements, and nested queries</li>
                <li><strong>File Upload Support:</strong> Upload .sql files directly or drag and drop them into the tool</li>
                <li><strong>One-Click Copy:</strong> Copy the formatted SQL to your clipboard instantly</li>
                <li><strong>Download Output:</strong> Save formatted SQL as a .sql file to your computer</li>
                <li><strong>Privacy First:</strong> 100% client-side—your queries and data never leave your browser</li>
            </ul>

            <h3>How to Use This Tool</h3>

            <p><strong>Method 1: Paste SQL Query</strong></p>
            <ol>
                <li>Copy your SQL query from your database client, ORM output, or code editor</li>
                <li>Paste it into the input text area on the left side</li>
                <li>Click "Format" to beautify the SQL</li>
                <li>The formatted query appears instantly in the output area on the right</li>
                <li>Copy the result to use in your database client, documentation, or code review</li>
            </ol>

            <p><strong>Method 2: Upload a SQL File</strong></p>
            <ol>
                <li>Click the "Upload" button or drag and drop your .sql file into the designated area</li>
                <li>The file content will load automatically into the input area</li>
                <li>Format as needed, then save the result using the "Download" button</li>
            </ol>

            <h3>Common Use Cases</h3>

            <p><strong>Code Review and Documentation</strong></p>
            <p>When reviewing pull requests containing SQL queries, or when writing database documentation, poorly formatted SQL is difficult for team members to review and understand. Format all SQL before committing to version control or adding to documentation. Well-formatted SQL with consistent keyword capitalization and proper indentation communicates intent clearly, makes logical errors more obvious, and reduces the time needed for peer reviews.</p>

            <p><strong>Debugging Complex Queries</strong></p>
            <p>ORM frameworks and query builders often generate SQL that is compacted into a single line. When a query is slow or producing incorrect results, format it first to understand its structure. Seeing each JOIN, WHERE clause, and subquery on its own line makes it much easier to identify logical errors, missing join conditions, and opportunities for optimization with indexes or query restructuring.</p>

            <p><strong>Migrating Between Database Systems</strong></p>
            <p>When migrating queries from MySQL to PostgreSQL, or from SQL Server to standard SQL, formatting the source queries helps you clearly see all the database-specific syntax that needs to change. Clean, formatted SQL makes the migration process more systematic and reduces the risk of missing dialect-specific functions, date formats, and join syntax differences.</p>

            <h3>Tips &amp; Best Practices</h3>
            <ul>
                <li><strong>Always capitalize SQL keywords:</strong> Industry standard is to capitalize reserved words (SELECT, FROM, WHERE, JOIN, GROUP BY) and use lowercase for table and column names—this makes queries easier to scan visually</li>
                <li><strong>Add comments to complex queries:</strong> After formatting, add inline comments to explain complex logic, business rules, and the purpose of subqueries—your future self and teammates will thank you</li>
                <li><strong>Format before committing:</strong> Add SQL formatting to your code review checklist—consistently formatted SQL in version control makes git diffs much easier to understand</li>
                <li><strong>Test formatted queries:</strong> While formatting never changes query logic, always run formatted queries to verify they execute correctly, especially when the formatter adjusts SQL dialect differences</li>
            </ul>

            <h3>Frequently Asked Questions</h3>

            <p><strong>Q: Is my SQL and database data safe when using this tool?</strong></p>
            <p>A: Yes, absolutely! All SQL formatting happens entirely in your browser using JavaScript. Your queries—and any data or credentials they may contain—never leave your computer and are never uploaded to any server. This is particularly important when working with queries containing sensitive table names, column names, or example data from production databases.</p>

            <p><strong>Q: What SQL dialects does this tool support?</strong></p>
            <p>A: Our SQL formatter supports standard SQL syntax and handles common conventions from major database systems including MySQL, PostgreSQL, SQLite, and T-SQL (SQL Server). It correctly formats SELECT, INSERT, UPDATE, DELETE, CREATE TABLE, ALTER TABLE, JOINs, CTEs, window functions, and subqueries. Some database-specific functions may format as generic SQL.</p>

            <p><strong>Q: Will formatting change my SQL logic or results?</strong></p>
            <p>A: No! SQL formatting only adds whitespace, line breaks, and changes keyword capitalization—it never modifies the actual query logic, table/column names, or values. The formatted SQL is semantically identical to the original and will produce exactly the same results when executed. SQL is not whitespace-sensitive, so formatting is always safe.</p>

            <p><strong>Q: Do I need to create an account or sign up?</strong></p>
            <p>A: No! All our tools are completely free and don't require any registration, sign-up, or account creation. Just visit the page and start formatting SQL immediately. There are no limits on usage, no premium tiers, and no hidden fees.</p>
        </div>
    </div>

    <footer class="footer">
        <p>&copy; 2025 Code Utils. All rights reserved.</p>
        <p>Free developer utilities - 100% client-side processing</p>
    </footer>

    <script src="js/common.js"></script>
    <script>
        CodeUtils.RecentTools.add({
            id: 'sql-formatter',
            name: 'SQL Formatter',
            url: 'sql-formatter.html'
        });

        CodeUtils.Message.init('message');

        const keywords = [
            'SELECT', 'FROM', 'WHERE', 'AND', 'OR', 'NOT', 'IN', 'LIKE', 'BETWEEN',
            'JOIN', 'LEFT JOIN', 'RIGHT JOIN', 'INNER JOIN', 'OUTER JOIN', 'FULL JOIN', 'CROSS JOIN', 'ON',
            'GROUP BY', 'ORDER BY', 'HAVING', 'LIMIT', 'OFFSET',
            'INSERT INTO', 'VALUES', 'UPDATE', 'SET', 'DELETE',
            'CREATE TABLE', 'ALTER TABLE', 'DROP TABLE', 'CREATE INDEX',
            'AS', 'DISTINCT', 'ALL', 'UNION', 'INTERSECT', 'EXCEPT',
            'CASE', 'WHEN', 'THEN', 'ELSE', 'END',
            'NULL', 'IS', 'TRUE', 'FALSE', 'ASC', 'DESC'
        ];

        const newLineKeywords = [
            'SELECT', 'FROM', 'WHERE', 'AND', 'OR',
            'LEFT JOIN', 'RIGHT JOIN', 'INNER JOIN', 'OUTER JOIN', 'FULL JOIN', 'CROSS JOIN', 'JOIN',
            'GROUP BY', 'ORDER BY', 'HAVING', 'LIMIT',
            'INSERT INTO', 'VALUES', 'UPDATE', 'SET', 'DELETE',
            'UNION', 'INTERSECT', 'EXCEPT'
        ];

        function formatSQL() {
            let sql = document.getElementById('sqlInput').value.trim();
            if (!sql) {
                CodeUtils.Message.error('Please enter SQL');
                return;
            }

            const indentSetting = document.getElementById('indentSize').value;
            const indent = indentSetting === 'tab' ? '\t' : ' '.repeat(parseInt(indentSetting));
            const uppercase = document.getElementById('uppercase').checked;

            // Normalize whitespace
            sql = sql.replace(/\s+/g, ' ');

            // Process keywords
            keywords.forEach(keyword => {
                const regex = new RegExp('\\b' + keyword.replace(/ /g, '\\s+') + '\\b', 'gi');
                sql = sql.replace(regex, uppercase ? keyword.toUpperCase() : keyword.toLowerCase());
            });

            // Add newlines before certain keywords
            newLineKeywords.forEach(keyword => {
                const regex = new RegExp('\\s*\\b(' + keyword.replace(/ /g, '\\s+') + ')\\b', 'gi');
                sql = sql.replace(regex, '\n$1');
            });

            // Indent based on parentheses
            let indentLevel = 0;
            let formatted = '';
            const lines = sql.trim().split('\n');

            lines.forEach((line, i) => {
                line = line.trim();
                if (!line) return;

                // Decrease indent for closing
                const closingCount = (line.match(/\)/g) || []).length;
                const openingCount = (line.match(/\(/g) || []).length;

                if (line.startsWith(')')) {
                    indentLevel = Math.max(0, indentLevel - 1);
                }

                formatted += indent.repeat(indentLevel) + line + '\n';

                indentLevel += openingCount - closingCount;
                indentLevel = Math.max(0, indentLevel);
            });

            document.getElementById('sqlOutput').value = formatted.trim();
            CodeUtils.Message.success('SQL formatted!');
        }

        function minifySQL() {
            const sql = document.getElementById('sqlInput').value.trim();
            if (!sql) {
                CodeUtils.Message.error('Please enter SQL');
                return;
            }

            const minified = sql.replace(/\s+/g, ' ').trim();
            document.getElementById('sqlOutput').value = minified;
            CodeUtils.Message.success('SQL minified!');
        }

        function copyOutput() {
            const output = document.getElementById('sqlOutput').value;
            if (!output) {
                CodeUtils.Message.error('Nothing to copy');
                return;
            }
            CodeUtils.Clipboard.copy(output);
            CodeUtils.Message.success('Copied!');
        }

        function clearAll() {
            document.getElementById('sqlInput').value = '';
            document.getElementById('sqlOutput').value = '';
        }
    </script>
</body>
</html>
